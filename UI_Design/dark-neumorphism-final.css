/* ===================================
   DARK MODE NEUMORPHISM CSS
   Mathematical Implementation
   =================================== */

/* ===================================
   ADVANCED THEME SYSTEM - INSPIRED BY AVALONIA PATTERNS
   =================================== */
:root {
    /* BASE THEME CONFIGURATION */
    --base-theme: 'dark';  /* light | dark */

    /* PRIMARY COLOR PALETTE - Material Design Inspired */
    --primary-50: hsl(220, 100%, 95%);
    --primary-100: hsl(220, 100%, 90%);
    --primary-200: hsl(220, 100%, 80%);
    --primary-300: hsl(220, 100%, 70%);
    --primary-400: hsl(220, 100%, 60%);
    --primary-500: hsl(220, 100%, 50%);  /* Base primary */
    --primary-600: hsl(220, 100%, 45%);
    --primary-700: hsl(220, 100%, 40%);
    --primary-800: hsl(220, 100%, 35%);
    --primary-900: hsl(220, 100%, 30%);

    /* SECONDARY COLOR PALETTE */
    --secondary-50: hsl(280, 85%, 95%);
    --secondary-100: hsl(280, 85%, 90%);
    --secondary-200: hsl(280, 85%, 80%);
    --secondary-300: hsl(280, 85%, 70%);
    --secondary-400: hsl(280, 85%, 60%);
    --secondary-500: hsl(280, 85%, 50%);
    --secondary-600: hsl(280, 85%, 45%);
    --secondary-700: hsl(280, 85%, 40%);
    --secondary-800: hsl(280, 85%, 35%);
    --secondary-900: hsl(280, 85%, 30%);

    /* SEMANTIC COLOR SYSTEM */
    --success-color: hsl(160, 80%, 50%);
    --warning-color: hsl(35, 95%, 60%);
    --error-color: hsl(0, 85%, 60%);
    --info-color: hsl(200, 85%, 60%);

    /* COMPONENT-SPECIFIC COLORS */
    --photo-color: hsl(300, 75%, 65%);
    --video-color: hsl(45, 90%, 55%);
    --audio-color: hsl(270, 80%, 60%);
    --document-color: hsl(210, 70%, 55%);

    /* ACTIVE COLOR REFERENCES */
    --color-primary: var(--primary-500);
    --color-primary-variant: var(--primary-600);
    --color-secondary: var(--secondary-500);
    --color-secondary-variant: var(--secondary-600);

    /* SURFACE AND BACKGROUND */
    --surface-color: #2c2c2c;
    --surface-variant: #323232;
    --background-color: #1a1a1a;
    --on-surface: rgba(255, 255, 255, 0.95);
    --on-surface-variant: rgba(255, 255, 255, 0.7);

    /* ELEVATION AND DEPTH */
    --elevation-0: none;
    --elevation-1:
        2px 2px 4px rgba(0, 0, 0, 0.3),
        -2px -2px 4px rgba(255, 255, 255, 0.03);
    --elevation-2:
        4px 4px 8px rgba(0, 0, 0, 0.4),
        -4px -4px 8px rgba(255, 255, 255, 0.04);
    --elevation-3:
        8px 8px 16px rgba(0, 0, 0, 0.5),
        -8px -8px 16px rgba(255, 255, 255, 0.05);
    --elevation-4:
        12px 12px 24px rgba(0, 0, 0, 0.6),
        -12px -12px 24px rgba(255, 255, 255, 0.06);

    /* STATE COLORS */
    --state-hover: rgba(255, 255, 255, 0.08);
    --state-focus: rgba(255, 255, 255, 0.12);
    --state-pressed: rgba(255, 255, 255, 0.16);
    --state-dragged: rgba(255, 255, 255, 0.20);
    --state-disabled: rgba(255, 255, 255, 0.38);

    /* LEGACY SUPPORT - Maintain backwards compatibility */
    --primary-h: 220;
    --primary-s: 100%;
    --primary-l: 50%;
    --secondary-h: 280;
    --secondary-s: 85%;
    --secondary-l: 50%;
    --accent-h: 160;
    --accent-s: 80%;
    --accent-l: 50%;
    --warning-h: 35;
    --warning-s: 95%;
    --warning-l: 60%;
    --danger-h: 0;
    --danger-s: 85%;
    --danger-l: 60%;
    --photo-h: 300;
    --photo-s: 75%;
    --photo-l: 65%;
    --video-h: 45;
    --video-s: 90%;
    --video-l: 55%;

    /* COMPUTED COLORS FOR BACKWARDS COMPATIBILITY */
    --color-primary-light: var(--primary-300);
    --color-primary-dark: var(--primary-700);
    --color-accent: var(--success-color);
    --color-warning: var(--warning-color);
    --color-danger: var(--error-color);
    --color-photo: var(--photo-color);
    --color-video: var(--video-color);

    /* CORE NEUMORPHIC COLORS - MATHEMATICAL FOUNDATION */
    --neu-base: #2c2c2c;           /* Base color (44, 44, 44) - ALL elements use this */
    --neu-light: #3a3a3a;         /* Light shadow (58, 58, 58) - base + 14 */
    --neu-dark: #1e1e1e;          /* Dark shadow (30, 30, 30) - base - 14 */

    /* PHYSICS-BASED PARAMETERS */
    --neu-distance: 12px;          /* Shadow offset distance */
    --neu-blur: 20px;             /* Shadow blur radius */
    --neu-radius: 16px;           /* Border radius */

    /* SPRING PHYSICS CURVES */
    --spring-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --spring-snappy: cubic-bezier(0.175, 0.885, 0.32, 1.4);
    --spring-gentle: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --spring-exit: cubic-bezier(0.4, 0, 1, 1);

    /* DYNAMIC LIGHTING */
    --light-intensity: 1;
    --surface-highlight: rgba(255, 255, 255, 0.1);
    --depth-shadow: rgba(0, 0, 0, 0.3);

    /* TEXT COLORS (High contrast for accessibility) */
    --neu-text-primary: #ffffff;   /* Primary text */
    --neu-text-secondary: #b0b0b0; /* Secondary text */
    --neu-text-muted: #808080;     /* Muted text */

    /* ACCENT COLORS (Colorful and fun) */
    --neu-accent: var(--color-primary);
    --neu-success: var(--color-accent);
    --neu-warning: var(--color-warning);

    /* SPACING SYSTEM */
    --neu-space-xs: 4px;
    --neu-space-sm: 8px;
    --neu-space-md: 16px;
    --neu-space-lg: 24px;
    --neu-space-xl: 32px;

    /* TYPOGRAPHY */
    --neu-font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    --neu-font-size-sm: 0.875rem;
    --neu-font-size-base: 1rem;
    --neu-font-size-lg: 1.125rem;
    --neu-font-size-xl: 1.25rem;
    --neu-font-size-2xl: 1.5rem;
}

/* ===================================
   ADVANCED THEME VARIATIONS - INSPIRED BY AVALONIA PATTERNS
   =================================== */

/* LIGHT THEME SUPPORT - Enhanced contrast and visibility */
[data-base-theme="light"] {
    --surface-color: #f5f5f5;
    --surface-variant: #eeeeee;
    --background-color: #ffffff;
    --on-surface: rgba(0, 0, 0, 0.87);
    --on-surface-variant: rgba(0, 0, 0, 0.6);

    /* Enhanced light theme colors with better contrast */
    --neu-base: #e8e8e8;
    --neu-light: #ffffff;
    --neu-dark: #a0a0a0;  /* Darker for better shadow visibility */

    /* Better text colors for light theme */
    --neu-text-primary: #1a1a1a;
    --neu-text-secondary: #4a4a4a;
    --neu-text-muted: #6a6a6a;

    /* Enhanced shadows for better neumorphic effect */
    --elevation-1:
        3px 3px 6px rgba(0, 0, 0, 0.15),
        -3px -3px 6px rgba(255, 255, 255, 0.8);
    --elevation-2:
        5px 5px 10px rgba(0, 0, 0, 0.2),
        -5px -5px 10px rgba(255, 255, 255, 0.9);
    --elevation-3:
        8px 8px 16px rgba(0, 0, 0, 0.25),
        -8px -8px 16px rgba(255, 255, 255, 0.95);
    --elevation-4:
        12px 12px 24px rgba(0, 0, 0, 0.3),
        -12px -12px 24px rgba(255, 255, 255, 1);

    --state-hover: rgba(0, 0, 0, 0.04);
    --state-focus: rgba(0, 0, 0, 0.08);
    --state-pressed: rgba(0, 0, 0, 0.12);
    --state-disabled: rgba(0, 0, 0, 0.26);

    /* Better primary colors for light theme */
    --primary-500: hsl(220, 85%, 45%);
    --primary-600: hsl(220, 85%, 40%);
    --color-primary: var(--primary-500);
    --color-primary-variant: var(--primary-600);
}

/* PREDEFINED COLOR THEMES */
[data-theme="purple"] {
    --primary-500: hsl(270, 85%, 50%);
    --primary-600: hsl(270, 85%, 45%);
    --secondary-500: hsl(320, 75%, 55%);
    --secondary-600: hsl(320, 75%, 50%);
    --success-color: hsl(200, 80%, 55%);
}

[data-theme="green"] {
    --primary-500: hsl(150, 80%, 45%);
    --primary-600: hsl(150, 80%, 40%);
    --secondary-500: hsl(200, 70%, 50%);
    --secondary-600: hsl(200, 70%, 45%);
    --success-color: hsl(60, 85%, 55%);
}

[data-theme="orange"] {
    --primary-500: hsl(25, 95%, 55%);
    --primary-600: hsl(25, 95%, 50%);
    --secondary-500: hsl(60, 80%, 55%);
    --secondary-600: hsl(60, 80%, 50%);
    --success-color: hsl(320, 75%, 60%);
}

[data-theme="pink"] {
    --primary-500: hsl(330, 80%, 60%);
    --primary-600: hsl(330, 80%, 55%);
    --secondary-500: hsl(280, 75%, 55%);
    --secondary-600: hsl(280, 75%, 50%);
    --success-color: hsl(200, 80%, 55%);
}

/* SPECIALIZED APPLICATION THEMES */
[data-theme="photography"] {
    --primary-500: hsl(300, 75%, 60%);
    --primary-600: hsl(300, 75%, 55%);
    --photo-color: hsl(300, 85%, 65%);
    --video-color: hsl(45, 90%, 55%);
    --audio-color: hsl(270, 80%, 60%);
    --document-color: hsl(210, 70%, 55%);
}

[data-theme="video-editor"] {
    --primary-500: hsl(45, 90%, 50%);
    --primary-600: hsl(45, 90%, 45%);
    --video-color: hsl(45, 95%, 60%);
    --photo-color: hsl(300, 75%, 65%);
    --audio-color: hsl(120, 60%, 50%);
}

[data-theme="music-player"] {
    --primary-500: hsl(270, 85%, 55%);
    --primary-600: hsl(270, 85%, 50%);
    --audio-color: hsl(270, 90%, 65%);
    --video-color: hsl(45, 90%, 55%);
    --photo-color: hsl(300, 75%, 65%);
}

[data-theme="business"] {
    --primary-500: hsl(220, 85%, 45%);
    --primary-600: hsl(220, 85%, 40%);
    --secondary-500: hsl(200, 70%, 50%);
    --success-color: hsl(160, 70%, 45%);
    --warning-color: hsl(35, 85%, 55%);
    --error-color: hsl(0, 75%, 55%);
}

/* HIGH CONTRAST THEME */
[data-theme="high-contrast"] {
    --primary-500: hsl(220, 100%, 70%);
    --background-color: #000000;
    --surface-color: #1a1a1a;
    --on-surface: #ffffff;
    --state-hover: rgba(255, 255, 255, 0.15);
    --state-focus: rgba(255, 255, 255, 0.25);
}

/* COMPONENT COLOR MODIFIERS */
.neu-primary {
    --component-color: var(--color-primary);
    --component-shadow: hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.3);
}

.neu-secondary {
    --component-color: var(--color-secondary);
    --component-shadow: hsla(var(--secondary-h), var(--secondary-s), var(--secondary-l), 0.3);
}

.neu-accent {
    --component-color: var(--color-accent);
    --component-shadow: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
}

.neu-warning {
    --component-color: var(--color-warning);
    --component-shadow: hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.3);
}

.neu-danger {
    --component-color: var(--color-danger);
    --component-shadow: hsla(var(--danger-h), var(--danger-s), var(--danger-l), 0.3);
}

.neu-photo {
    --component-color: var(--color-photo);
    --component-shadow: hsla(var(--photo-h), var(--photo-s), var(--photo-l), 0.3);
}

.neu-video {
    --component-color: var(--color-video);
    --component-shadow: hsla(var(--video-h), var(--video-s), var(--video-l), 0.3);
}

/* ===================================
   PHYSICS-ENHANCED BASE STYLES
   =================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--neu-font-family);
    background: var(--neu-base);
    color: var(--neu-text-primary);
    line-height: 1.6;
    min-height: 100vh;
    overflow-x: hidden;

    /* Subtle ambient lighting animation */
    background-image:
        radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.02) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(74, 158, 255, 0.01) 0%, transparent 50%);

    /* Smooth scrolling with momentum */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Dynamic lighting keyframes */
@keyframes ambient-pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.8; }
}

@keyframes energy-pulse {
    0%, 100% {
        box-shadow: 0 0 0 rgba(74, 158, 255, 0);
        filter: brightness(1);
    }
    50% {
        box-shadow: 0 0 20px rgba(74, 158, 255, 0.3);
        filter: brightness(1.05);
    }
}



/* ===================================
   NEUMORPHIC FOUNDATION CLASSES
   =================================== */

/* RAISED EFFECT - Elements appear to come OUT of the surface */
.neu-raised {
    background: var(--neu-base);
    box-shadow:
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark);
    border-radius: var(--neu-radius);
}

/* INSET EFFECT - Elements appear pressed INTO the surface */
.neu-inset {
    background: var(--neu-base);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    border-radius: var(--neu-radius);
}

/* FLAT EFFECT - Same surface level as background */
.neu-flat {
    background: var(--neu-base);
    border-radius: var(--neu-radius);
}

/* ===================================
   LAYOUT COMPONENTS
   =================================== */
.neu-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--neu-space-xl);
    background: var(--neu-base);
    min-height: 100vh;
}

.neu-header {
    text-align: center;
    margin-bottom: var(--neu-space-xl);
    padding: var(--neu-space-lg);
}

.neu-title {
    font-size: var(--neu-font-size-2xl);
    font-weight: 700;
    color: var(--neu-text-primary);
    margin-bottom: var(--neu-space-sm);
    text-shadow:
        1px 1px 2px var(--neu-dark),
        -1px -1px 2px var(--neu-light);
}

.neu-subtitle {
    font-size: var(--neu-font-size-base);
    color: var(--neu-text-secondary);
    text-shadow:
        1px 1px 1px var(--neu-dark);
}

.neu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--neu-space-xl);
}

.neu-section {
    padding: var(--neu-space-lg);
}

.neu-section-title {
    font-size: var(--neu-font-size-lg);
    font-weight: 600;
    color: var(--neu-text-primary);
    margin-bottom: var(--neu-space-lg);
    text-shadow:
        1px 1px 2px var(--neu-dark);
}

.neu-element-group {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-lg);
}

/* ===================================
   BUTTONS - PHYSICS-BASED NEUMORPHIC
   =================================== */
.neu-btn {
    padding: var(--neu-space-md) var(--neu-space-lg);
    border: none;
    border-radius: var(--neu-radius);
    font-family: var(--neu-font-family);
    font-size: var(--neu-font-size-base);
    font-weight: 500;
    color: var(--neu-text-primary);
    background: var(--neu-base);
    cursor: pointer;
    position: relative;
    will-change: transform, box-shadow;

    /* SPRING PHYSICS - Natural object behavior */
    transition:
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        filter 0.2s ease;

    /* RAISED SHADOW - Physical object on surface */
    box-shadow:
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        0 0 0 rgba(74, 158, 255, 0); /* Glow placeholder */
}

/* HOVER - Object responding to proximity */
.neu-btn:hover {
    transform: translateY(-2px) scale(1.02);
    filter: brightness(1.05);
    box-shadow:
        calc(-1 * var(--neu-distance) - 3px) calc(-1 * var(--neu-distance) - 3px) calc(var(--neu-blur) + 6px) var(--neu-light),
        calc(var(--neu-distance) + 3px) calc(var(--neu-distance) + 3px) calc(var(--neu-blur) + 6px) var(--neu-dark),
        0 0 0 rgba(74, 158, 255, 0); /* Subtle energy glow removed */
}

/* ACTIVE - Physical button press with spring compression */
.neu-btn:active,
.neu-btn--active {
    transform: translateY(1px) scale(0.98);
    transition:
        transform 0.1s cubic-bezier(0.4, 0, 1, 1),
        box-shadow 0.1s ease;

    /* PRESSED INSET EFFECT - Button compressed into surface */
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 8px rgba(74, 158, 255, 0.4); /* Energy feedback */
}

/* SPRING RELEASE - Return animation after press */
.neu-btn:not(:active) {
    transition:
        transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.4),
        box-shadow 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.neu-btn--icon {
    width: 48px;
    height: 48px;
    padding: 0;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--neu-font-size-lg);

    /* Enhanced physics for circular buttons */
    transition:
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.4),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.neu-btn--icon:hover {
    transform: translateY(-3px) scale(1.05) rotate(2deg);
    filter: brightness(1.08);
}

.neu-btn--icon:active {
    transform: translateY(1px) scale(0.95) rotate(-1deg);
    transition:
        transform 0.08s cubic-bezier(0.4, 0, 1, 1);
}

.neu-btn--large {
    padding: var(--neu-space-lg) var(--neu-space-xl);
    font-size: var(--neu-font-size-lg);
}

.neu-btn--small {
    padding: var(--neu-space-sm) var(--neu-space-md);
    font-size: var(--neu-font-size-sm);
}

.neu-floating-btn {
    position: fixed;
    bottom: var(--neu-space-xl);
    right: var(--neu-space-xl);
    z-index: 100;
}

/* ===================================
   FORM ELEMENTS - PHYSICS-ENHANCED INSETS
   =================================== */
.neu-input-wrapper {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-sm);
}

.neu-label {
    font-size: var(--neu-font-size-sm);
    font-weight: 600;
    color: var(--neu-text-secondary);
    text-shadow: 1px 1px 1px var(--neu-dark);
    transition: color 0.3s var(--spring-gentle);
}

.neu-input {
    padding: var(--neu-space-md);
    border: none;
    border-radius: var(--neu-radius);
    font-family: var(--neu-font-family);
    font-size: var(--neu-font-size-base);
    color: var(--neu-text-primary);
    background: var(--neu-base);
    will-change: box-shadow, transform;

    /* PHYSICS-BASED INPUT - Liquid mercury feeling */
    transition:
        box-shadow 0.4s var(--spring-gentle),
        transform 0.3s var(--spring-gentle),
        filter 0.2s ease;

    /* INSET SHADOW - Liquid pool effect */
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        inset 0 0 0 1px rgba(255, 255, 255, 0.05); /* Surface tension */
}

.neu-input:hover {
    filter: brightness(1.02);
    box-shadow:
        inset calc(var(--neu-distance) + 1px) calc(var(--neu-distance) + 1px) calc(var(--neu-blur) + 2px) var(--neu-dark),
        inset calc(-1 * var(--neu-distance) - 1px) calc(-1 * var(--neu-distance) - 1px) calc(var(--neu-blur) + 2px) var(--neu-light),
        inset 0 0 0 1px rgba(255, 255, 255, 0.08);
}

.neu-input:focus {
    outline: none;
    transform: scale(1.01);
    filter: brightness(1.05);

    /* FOCUSED STATE - Energy flowing into input */
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 3px rgba(74, 158, 255, 0.4),
        inset 0 0 20px rgba(74, 158, 255, 0.1); /* Internal energy glow */

    transition:
        box-shadow 0.3s var(--spring-bounce),
        transform 0.2s var(--spring-bounce);
}

/* Label animation on focus */
.neu-input:focus + .neu-label,
.neu-input-wrapper:focus-within .neu-label {
    color: var(--neu-accent);
    text-shadow: 0 0 8px rgba(74, 158, 255, 0.3);
}

.neu-input::placeholder {
    color: var(--neu-text-muted);
}

/* ===================================
   TOGGLE SWITCHES
   =================================== */
.neu-toggle-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.neu-toggle {
    position: relative;
}

.neu-toggle-input {
    display: none;
}

.neu-toggle-label {
    display: block;
    width: 60px;
    height: 32px;
    background: var(--neu-base);
    border-radius: 32px;
    cursor: pointer;
    position: relative;
    transition: all 0.3s ease;

    /* INSET TRACK */
    box-shadow:
        inset 6px 6px 12px var(--neu-dark),
        inset -6px -6px 12px var(--neu-light);
}

.neu-toggle-label::after {
    content: '';
    position: absolute;
    top: 4px;
    left: 4px;
    width: 24px;
    height: 24px;
    background: var(--neu-base);
    border-radius: 50%;
    will-change: transform, box-shadow;

    /* PHYSICS-BASED TOGGLE - Marble rolling in track */
    transition:
        transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.4),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        background 0.3s ease;

    /* RAISED THUMB - Physical sphere */
    box-shadow:
        -4px -4px 8px var(--neu-light),
        4px 4px 8px var(--neu-dark),
        inset 0 0 0 1px rgba(255, 255, 255, 0.1); /* Surface highlight */
}

.neu-toggle-input:checked + .neu-toggle-label::after {
    transform: translateX(28px) scale(1.05);
    background: linear-gradient(145deg, var(--neu-accent), #3182ce);
    filter: brightness(1.1);

    /* Active state with energy */
    box-shadow:
        -4px -4px 8px var(--neu-light),
        4px 4px 8px var(--neu-dark),
        0 0 16px rgba(74, 158, 255, 0.4),
        inset 0 0 0 1px rgba(255, 255, 255, 0.2); /* Enhanced surface */

    /* Spring-loaded movement */
    transition:
        transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.6),
        box-shadow 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        background 0.3s ease,
        filter 0.2s ease;
}

/* ===================================
   CARDS
   =================================== */
.neu-card {
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    padding: var(--neu-space-xl);
    will-change: transform, box-shadow;
    position: relative;

    /* PHYSICS-BASED CARD - Floating content surface */
    transition:
        transform 0.5s var(--spring-gentle),
        box-shadow 0.4s var(--spring-gentle),
        filter 0.3s ease;

    /* RAISED CARD - Content platform */
    box-shadow:
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset 0 0 0 1px var(--surface-highlight); /* Surface definition */
}

.neu-card:hover {
    transform: translateY(-2px) scale(1.005);
    filter: brightness(1.02);
    box-shadow:
        calc(-1 * var(--neu-distance) - 3px) calc(-1 * var(--neu-distance) - 3px) calc(var(--neu-blur) + 6px) var(--neu-light),
        calc(var(--neu-distance) + 3px) calc(var(--neu-distance) + 3px) calc(var(--neu-blur) + 6px) var(--neu-dark),
        0 0 16px rgba(74, 158, 255, 0.08); /* Content energy field */
}

/* Subtle content flow animation */
.neu-card::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    border-radius: var(--neu-radius);
    background: linear-gradient(135deg,
        rgba(255, 255, 255, 0.05) 0%,
        transparent 50%,
        rgba(74, 158, 255, 0.02) 100%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.4s var(--spring-gentle);
}

.neu-card:hover::before {
    opacity: 1;
}

.neu-card-header {
    display: flex;
    align-items: center;
    gap: var(--neu-space-md);
    margin-bottom: var(--neu-space-lg);
}

.neu-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--neu-base);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    will-change: transform, box-shadow;
    position: relative;

    /* PHYSICS-BASED AVATAR - Living identity marker */
    transition:
        transform 0.4s var(--spring-gentle),
        box-shadow 0.3s var(--spring-gentle),
        filter 0.2s ease;

    /* INSET AVATAR - Identity well */
    box-shadow:
        inset 6px 6px 12px var(--neu-dark),
        inset -6px -6px 12px var(--neu-light),
        inset 0 0 0 1px rgba(255, 255, 255, 0.05); /* Identity boundary */
}

.neu-avatar:hover {
    transform: scale(1.05) rotate(1deg);
    filter: brightness(1.05);
    box-shadow:
        inset 8px 8px 16px var(--neu-dark),
        inset -8px -8px 16px var(--neu-light),
        0 0 12px rgba(74, 158, 255, 0.2); /* Identity energy */
}

/* Subtle identity pulse */
.neu-avatar::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: 50%;
    background: radial-gradient(circle, var(--energy-glow) 0%, transparent 70%);
    opacity: 0;
    pointer-events: none;
    animation: ambient-pulse 3s ease-in-out infinite;
}

.neu-card-title {
    font-size: var(--neu-font-size-lg);
    font-weight: 600;
    color: var(--neu-text-primary);
    margin-bottom: var(--neu-space-xs);
}

.neu-card-subtitle {
    font-size: var(--neu-font-size-sm);
    color: var(--neu-text-secondary);
}

.neu-stat-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--neu-space-md);
}

.neu-stat {
    text-align: center;
    padding: var(--neu-space-md);
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    will-change: transform, box-shadow;
    position: relative;

    /* PHYSICS-BASED STATS - Data wells */
    transition:
        transform 0.3s var(--spring-gentle),
        box-shadow 0.4s var(--spring-gentle),
        filter 0.2s ease;

    /* INSET STATS - Data collection wells */
    box-shadow:
        inset 6px 6px 12px var(--neu-dark),
        inset -6px -6px 12px var(--neu-light),
        inset 0 0 0 1px rgba(255, 255, 255, 0.03); /* Data boundary */
}

.neu-stat:hover {
    transform: scale(1.02);
    filter: brightness(1.03);
    box-shadow:
        inset 8px 8px 16px var(--neu-dark),
        inset -8px -8px 16px var(--neu-light),
        0 0 8px rgba(74, 158, 255, 0.15); /* Data energy */
}

/* Data flow visualization */
.neu-stat::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    border-radius: calc(var(--neu-radius) - 2px);
    background: linear-gradient(135deg,
        rgba(74, 158, 255, 0.02) 0%,
        transparent 50%,
        rgba(74, 158, 255, 0.01) 100%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s var(--spring-gentle);
}

.neu-stat:hover::before {
    opacity: 1;
    animation: flow-energy 2s ease-in-out infinite;
}

.neu-stat-number {
    display: block;
    font-size: var(--neu-font-size-xl);
    font-weight: 700;
    color: var(--neu-accent);
    margin-bottom: var(--neu-space-xs);

    /* Living numbers with subtle animation */
    transition: all 0.3s var(--spring-gentle);
    filter: drop-shadow(0 0 4px rgba(74, 158, 255, 0.2));
}

.neu-stat:hover .neu-stat-number {
    transform: scale(1.05);
    filter: drop-shadow(0 0 8px rgba(74, 158, 255, 0.4));
    text-shadow: 0 0 12px rgba(74, 158, 255, 0.3);
}

.neu-stat-label {
    font-size: var(--neu-font-size-sm);
    color: var(--neu-text-secondary);
}

/* ===================================
   CONTROLS & SLIDERS - MOBILE FIRST
   =================================== */
.neu-control-group {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-md);
}

.neu-slider {
    width: 100%;
    min-height: 44px; /* Mobile touch target */
    display: flex;
    align-items: center;
    padding: var(--neu-space-sm) 0;
    cursor: pointer;
    position: relative;
}

.neu-slider-track {
    position: relative;
    width: 100%;
    height: 12px; /* Increased for mobile */
    background: var(--neu-base);
    border-radius: 12px;
    /* Removed overflow: hidden to allow thumb to appear on top */
    z-index: 0; /* Base layer */

    /* INSET EMPTY TRACK - APPEARS CARVED INTO SURFACE */
    box-shadow:
        inset 6px 6px 12px var(--neu-dark),
        inset -6px -6px 12px var(--neu-light);
}

.neu-slider-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: var(--neu-base);
    border-radius: 12px;
    transition: width 0.2s ease;
    z-index: 1; /* Above track, below thumb */
    /* Contain the fill within track bounds */
    overflow: hidden;

    /* DEEPER INSET FOR FILLED PORTION - APPEARS PRESSED DEEPER */
    box-shadow:
        inset 8px 8px 16px var(--neu-dark),
        inset -2px -2px 8px var(--neu-light);
}

/* COLORED FILL OVERLAY FOR VISUAL FEEDBACK */
.neu-slider-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, var(--neu-accent), rgba(74, 158, 255, 0.8));
    border-radius: 12px;
    opacity: 0.6;
    mix-blend-mode: overlay;
    z-index: 2; /* Above fill, below thumb */
}

.neu-slider-thumb {
    position: absolute;
    top: 50%;
    /* Center the thumb by offsetting by half its width */
    transform: translateY(-50%) translateX(-50%);
    width: 32px; /* Larger for mobile touch */
    height: 32px;
    background: var(--neu-base);
    border-radius: 50%;
    cursor: grab;
    z-index: 100; /* MUCH HIGHER Z-INDEX - ALWAYS ON TOP */
    will-change: transform, box-shadow;
    /* Ensure thumb can escape parent container */
    isolation: isolate;

    /* PHYSICS-BASED THUMB - Real object with momentum */
    transition:
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.3),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        filter 0.2s ease;

    /* STRONG RAISED EFFECT - Physical marble on track */
    box-shadow:
        -8px -8px 16px var(--neu-light),
        8px 8px 16px var(--neu-dark),
        0 4px 12px rgba(0, 0, 0, 0.3),
        inset 0 0 0 1px rgba(255, 255, 255, 0.1); /* Material highlight */
}

/* HOVER - Magnetic proximity effect */
.neu-slider-thumb:hover {
    transform: translateY(-50%) translateX(-50%) scale(1.08) translateZ(2px);
    filter: brightness(1.05);
    box-shadow:
        -12px -12px 24px var(--neu-light),
        12px 12px 24px var(--neu-dark),
        0 8px 20px rgba(0, 0, 0, 0.4),
        0 0 0 rgba(74, 158, 255, 0); /* Energy field removed */
}

/* DRAGGING - Active grip with tactile feedback */
.neu-slider-thumb:active,
.neu-slider-thumb.dragging {
    cursor: grabbing;
    transform: translateY(-50%) translateX(-50%) scale(1.02);
    filter: brightness(1.1) saturate(1.2);
    transition:
        transform 0.1s cubic-bezier(0.4, 0, 1, 1),
        box-shadow 0.1s ease,
        filter 0.1s ease;

    /* Compressed grip feeling */
    box-shadow:
        -6px -6px 12px var(--neu-light),
        6px 6px 12px var(--neu-dark),
        0 2px 8px rgba(0, 0, 0, 0.6),
        0 0 0 rgba(74, 158, 255, 0); /* Active energy removed */
}

/* MOMENTUM RELEASE - Spring-back after drag */
.neu-slider-thumb:not(.dragging):not(:active) {
    transition:
        transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.5),
        box-shadow 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        filter 0.3s ease;
}

/* MOBILE OPTIMIZATIONS - Enhanced physics for touch */
@media (max-width: 768px) {
    .neu-slider {
        min-height: 56px; /* Even larger touch target on mobile */
        padding: var(--neu-space-md) 0;
    }

    .neu-slider-track {
        height: 16px; /* Thicker track for easier interaction */
    }

    .neu-slider-thumb {
        width: 36px; /* Larger thumb for mobile */
        height: 36px;

        /* Mobile-optimized physics */
        transition:
            transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.2),
            box-shadow 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    /* Touch-based interactions */
    .neu-slider-thumb:hover {
        transform: translateY(-50%) translateX(-50%) scale(1.06); /* Gentle mobile response */
    }

    .neu-slider-thumb:active,
    .neu-slider-thumb.dragging {
        transform: translateY(-50%) translateX(-50%) scale(1.03);
        filter: brightness(1.12);

        /* Enhanced mobile tactile feedback */
        box-shadow:
            -8px -8px 16px var(--neu-light),
            8px 8px 16px var(--neu-dark),
            0 4px 12px rgba(0, 0, 0, 0.5),
            0 0 0 rgba(74, 158, 255, 0); /* Strong energy feedback removed */
    }
}

/* HIGH DPI DISPLAYS - Enhanced material properties */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .neu-slider-thumb {
        box-shadow:
            -8px -8px 16px var(--neu-light),
            8px 8px 16px var(--neu-dark),
            0 4px 12px rgba(0, 0, 0, 0.3),
            inset 0 0 0 1px rgba(255, 255, 255, 0.15), /* Enhanced surface */
            inset 0 -2px 4px rgba(255, 255, 255, 0.05); /* Subtle top highlight */
    }

    /* Enhanced material definition for high DPI */
    .neu-btn, .neu-card, .neu-display {
        border: 1px solid rgba(255, 255, 255, 0.03);
    }

    .neu-input {
        border: 1px solid rgba(0, 0, 0, 0.05);
    }
}

.neu-progress {
    width: 100%;
    height: 8px;
    background: var(--neu-base);
    border-radius: 8px;
    overflow: hidden;
    position: relative;

    /* INSET PROGRESS TRACK - Liquid channel */
    box-shadow:
        inset 4px 4px 8px var(--neu-dark),
        inset -4px -4px 8px var(--neu-light),
        inset 0 0 0 1px rgba(255, 255, 255, 0.05); /* Channel definition */
}

.neu-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neu-success), #22c55e);
    border-radius: 8px;
    position: relative;

    /* LIQUID PROGRESS - Flowing energy */
    transition: width 0.8s var(--spring-bounce);

    /* Flowing energy effect */
    background-image: linear-gradient(45deg,
        transparent 25%,
        rgba(255, 255, 255, 0.1) 25%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 50%,
        transparent 75%,
        rgba(255, 255, 255, 0.1) 75%);
    background-size: 20px 20px;
    animation: flow-energy 2s linear infinite;
}

@keyframes flow-energy {
    0% { background-position: 0 0; }
    100% { background-position: 20px 0; }
}

/* Progress completion burst */
.neu-progress-fill[style*="100%"] {
    animation: flow-energy 0.5s linear, energy-pulse 1s ease-out;
    filter: brightness(1.2);
}

.neu-icon-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--neu-space-md);
}

.neu-icon-btn {
    width: 56px;
    height: 56px;
    border: none;
    border-radius: 50%;
    background: var(--neu-base);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--neu-font-size-lg);
    cursor: pointer;
    will-change: transform, box-shadow;

    /* PHYSICS-BASED ICON BUTTON */
    transition:
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.3),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        filter 0.2s ease;

    /* RAISED ICON BUTTON - Physical object */
    box-shadow:
        -8px -8px 16px var(--neu-light),
        8px 8px 16px var(--neu-dark),
        inset 0 0 0 1px rgba(255, 255, 255, 0.08); /* Surface reflection */
}

.neu-icon-btn:hover {
    transform: translateY(-2px) scale(1.05) rotate(1deg);
    filter: brightness(1.06);
    box-shadow:
        -12px -12px 24px var(--neu-light),
        12px 12px 24px var(--neu-dark),
        0 0 12px rgba(74, 158, 255, 0.15); /* Proximity glow */
}

.neu-icon-btn:active,
.neu-icon-btn.neu-btn--active {
    transform: translateY(1px) scale(0.95) rotate(-0.5deg);
    filter: brightness(1.1);
    transition:
        transform 0.08s cubic-bezier(0.4, 0, 1, 1),
        box-shadow 0.1s ease;

    /* PRESSED STATE - Compressed into surface */
    box-shadow:
        inset 8px 8px 16px var(--neu-dark),
        inset -8px -8px 16px var(--neu-light),
        0 0 8px rgba(74, 158, 255, 0.4); /* Active energy pulse */
}

/* ===================================
   DISPLAY COMPONENTS - LIVING SURFACES
   =================================== */
.neu-display {
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    padding: var(--neu-space-xl);
    will-change: transform, box-shadow;

    /* BREATHING DISPLAY - Subtle life-like animation */
    transition:
        transform 0.6s var(--spring-gentle),
        box-shadow 0.4s var(--spring-gentle),
        filter 0.3s ease;

    /* RAISED DISPLAY - Floating data panel */
    box-shadow:
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset 0 0 0 1px var(--surface-highlight); /* Subtle edge definition */
}

.neu-display:hover {
    transform: translateY(-1px) scale(1.005);
    filter: brightness(1.02);
    box-shadow:
        calc(-1 * var(--neu-distance) - 2px) calc(-1 * var(--neu-distance) - 2px) calc(var(--neu-blur) + 4px) var(--neu-light),
        calc(var(--neu-distance) + 2px) calc(var(--neu-distance) + 2px) calc(var(--neu-blur) + 4px) var(--neu-dark),
        0 0 12px rgba(74, 158, 255, 0.1); /* Data energy aura */
}

/* Subtle data flow animation */
.neu-display::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: var(--neu-radius);
    background: linear-gradient(135deg,
        transparent 0%,
        rgba(74, 158, 255, 0.02) 50%,
        transparent 100%);
    pointer-events: none;
    animation: ambient-pulse 4s ease-in-out infinite;
}

.neu-display-header {
    margin-bottom: var(--neu-space-lg);
}

.neu-display-title {
    font-size: var(--neu-font-size-lg);
    font-weight: 600;
    color: var(--neu-text-primary);
}

.neu-display-content {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-md);
}

.neu-metric {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--neu-space-sm) 0;
}

.neu-metric-label {
    font-size: var(--neu-font-size-sm);
    color: var(--neu-text-secondary);
}

.neu-metric-value {
    font-size: var(--neu-font-size-base);
    font-weight: 600;
    color: var(--neu-text-primary);
}

.neu-status-indicators {
    display: flex;
    gap: var(--neu-space-sm);
    margin-top: var(--neu-space-md);
}

.neu-indicator {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--neu-base);
    will-change: transform, box-shadow;

    /* PHYSICS-BASED INDICATOR - Living status light */
    transition:
        transform 0.3s var(--spring-bounce),
        box-shadow 0.4s var(--spring-gentle),
        background 0.3s ease;

    /* INSET INDICATOR - Dormant state */
    box-shadow:
        inset 2px 2px 4px var(--neu-dark),
        inset -2px -2px 4px var(--neu-light);
}

.neu-indicator--active {
    background: var(--neu-success);
    transform: scale(1.1);

    /* ACTIVE STATE - Energy radiating outward */
    box-shadow:
        -2px -2px 4px var(--neu-light),
        2px 2px 4px var(--neu-dark),
        0 0 12px rgba(74, 222, 128, 0.4),
        inset 0 0 0 1px rgba(255, 255, 255, 0.2); /* Inner glow */

    /* Pulsing life indicator */
    animation: energy-pulse 2s ease-in-out infinite;
}

/* Status change animation */
.neu-indicator.status-changing {
    animation: particle-burst 0.5s ease-out;
}

/* ===================================
   GLASSMORPHISM OVERLAY (SEPARATE LAYER)
   =================================== */

/* ===================================
   VIEWPORT OVERLAY LAYER SYSTEM
   =================================== */

/* Global popup overlay container - portal-like system */
#neu-popup-overlay-root {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    pointer-events: none !important;
    overflow: hidden !important;
}

/* Viewport-positioned popup containers */
.neu-viewport-popup {
    position: absolute !important;
    pointer-events: auto !important;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform: translateZ(0);
}

/* Viewport popup entrance animation */
.neu-viewport-popup.entering {
    animation: viewport-popup-enter 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.neu-viewport-popup.leaving {
    animation: viewport-popup-exit 0.2s cubic-bezier(0.4, 0, 1, 1);
}

@keyframes viewport-popup-enter {
    from {
        opacity: 0;
        transform: translateY(-12px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes viewport-popup-exit {
    from {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    to {
        opacity: 0;
        transform: translateY(-8px) scale(0.98);
    }
}

/* ===================================
   UNIFIED GLASSMORPHIC POPUP SYSTEM
   =================================== */

/* Z-Index Management Hierarchy */
:root {
    --z-standard: 1;
    --z-form-elements: 1000;
    --z-tooltips: 10000;
    --z-modals: 20000;
    --z-critical-alerts: 25000;
}

/* Apply z-index hierarchy to existing components */
.neu-tooltip-container {
    z-index: var(--z-tooltips) !important;
}

.neu-modal {
    z-index: var(--z-modals) !important;
}

.neu-modal-backdrop {
    z-index: calc(var(--z-modals) - 1) !important;
}

.neu-alert {
    z-index: var(--z-critical-alerts) !important;
}

    z-index: var(--z-form-elements);
}

    z-index: var(--z-form-elements);
}

    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--neu-radius);
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 2px 8px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1);
    position: absolute;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform: translateZ(0);
}

    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--neu-radius-lg);
    box-shadow:
        0 12px 40px rgba(0, 0, 0, 0.4),
        0 4px 16px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        0 0 20px rgba(74, 158, 255, 0.1);
    position: absolute;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform: translateZ(0);
}

}

}

    from {
        opacity: 0;
        transform: translateY(-12px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

    from {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    to {
        opacity: 0;
        transform: translateY(-8px) scale(0.98);
    }
}

/* Variant-specific styling */
    min-width: 280px;
    max-width: 320px;
    padding: var(--neu-space-md);
}

    min-width: 200px;
    max-height: 240px;
    overflow-y: auto;
    padding: var(--neu-space-xs) 0;
}

    min-width: 220px;
    max-height: 280px;
    overflow-y: auto;
    padding: var(--neu-space-xs) 0;
}

/* Glassmorphic popup content styling */
    background: transparent;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
}

    background: rgba(255, 255, 255, 0.15);
    transform: translateX(4px);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
}

    background: rgba(74, 158, 255, 0.2);
    border-left: 3px solid rgba(74, 158, 255, 0.8);
    box-shadow: inset 0 0 0 1px rgba(74, 158, 255, 0.3);
}

/* Glassmorphic scrollbar styling */
    width: 6px;
}

    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
}

    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    transition: background 0.3s ease;
}

    background: rgba(255, 255, 255, 0.3);
}
/* GLASS OVERLAY - VIEWPORT CENTER POSITIONING */
.glass-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background: rgba(0, 0, 0, 0.6);
    /* REMOVED: display: flex !important; - Let inline styles control visibility */
    align-items: center !important;
    justify-content: center !important;
    z-index: 999999 !important;  /* Very high z-index */
    padding: 20px;
    margin: 0 !important;
    box-sizing: border-box;
    overflow: hidden;
    /* Force on top of everything */
    transform: translateZ(0);
    /* Smooth entrance animation */
    animation: overlay-fade-in 0.3s ease-out;
}

/* When overlay is shown, apply flex display */
.glass-overlay.show {
    display: flex !important;
}

/* Alternative body scroll prevention without position fixed */
body.overlay-active {
    overflow: hidden !important;
    /* Remove position fixed which can cause issues */
}

@keyframes overlay-fade-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.glass-modal {
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.25);
    border-radius: calc(var(--neu-radius) * 1.5);
    padding: var(--neu-space-xl);
    max-width: 400px;
    width: 90%;
    max-height: 70vh; /* Prevent modal from being too tall */
    overflow: visible;
    box-shadow:
        0 16px 40px rgba(0, 0, 0, 0.4),
        0 8px 16px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    /* Modal entrance animation */
    animation: modal-slide-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.2);
    /* Ensure it's centered */
    margin: 0 auto;
    position: relative;
    box-sizing: border-box;
    /* Force hardware acceleration */
    transform: translateZ(0);
}

@keyframes modal-slide-in {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.glass-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--neu-space-lg);
}

.glass-modal-header h3 {
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.glass-modal-content p {
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin-bottom: var(--neu-space-md);
}

/* ===================================
   RESPONSIVE DESIGN - MOBILE FIRST
   =================================== */

/* Base styles are mobile-first */

/* Small mobile devices */
@media (max-width: 480px) {
    .neu-container {
        padding: var(--neu-space-md);
    }

    .neu-header {
        padding: var(--neu-space-md);
        margin-bottom: var(--neu-space-lg);
    }

    .neu-title {
        font-size: var(--neu-font-size-xl);
    }

    .neu-section {
        padding: var(--neu-space-md);
    }

    .neu-btn {
        padding: var(--neu-space-md) var(--neu-space-lg);
        font-size: var(--neu-font-size-lg);
        min-height: 48px; /* Larger touch target */
        /* Better text handling on small screens */
        white-space: normal;
        word-wrap: break-word;
        hyphens: auto;
        line-height: 1.2;
    }

    .neu-btn--icon {
        width: 48px;
        height: 48px;
        font-size: var(--neu-font-size-xl);
    }

    .neu-input {
        padding: var(--neu-space-lg);
        font-size: var(--neu-font-size-lg);
        min-height: 48px;
    }
}

/* Standard mobile devices */
@media (max-width: 768px) {
    .neu-container {
        padding: var(--neu-space-lg);
    }

    .neu-grid {
        grid-template-columns: 1fr;
        gap: var(--neu-space-lg);
    }

    .neu-stat-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--neu-space-md);
    }

    .neu-icon-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--neu-space-md);
    }

    .neu-floating-btn {
        bottom: var(--neu-space-lg);
        right: var(--neu-space-lg);
    }

    .neu-button-row {
        flex-direction: column;
        gap: var(--neu-space-md);
    }

    .neu-theme-grid {
        grid-template-columns: 1fr;
        gap: var(--neu-space-sm);
    }

    .neu-toggle-wrapper {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--neu-space-sm);
    }

    .neu-card-header {
        flex-direction: column;
        text-align: center;
        gap: var(--neu-space-md);
    }

    .neu-control-group {
        gap: var(--neu-space-lg);
    }
}

/* Tablet and larger mobile */
@media (min-width: 769px) and (max-width: 1024px) {
    .neu-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .neu-stat-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Desktop - Enhanced physics and particle effects */
@media (min-width: 1025px) {
    .neu-grid {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }

    .neu-stat-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .neu-button-row {
        flex-direction: row;
    }

    /* Advanced hover physics for desktop */
    .neu-btn:hover {
        transform: translateY(-2px) scale(1.02);
        animation: energy-pulse 2s ease-in-out infinite;
    }

    .neu-slider-thumb:hover {
        transform: translateY(-50%) translateX(-50%) scale(1.08) translateZ(2px);
        animation: energy-pulse 1.5s ease-in-out infinite;
    }

    .neu-icon-btn:hover {
        animation: energy-pulse 2.5s ease-in-out infinite;
    }

    /* Particle trail effects removed per user request */
}

/* Landscape mobile orientation */
@media (max-width: 768px) and (orientation: landscape) {
    .neu-container {
        padding: var(--neu-space-md) var(--neu-space-lg);
    }

    .neu-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--neu-space-md);
    }

    .neu-header {
        padding: var(--neu-space-md);
        margin-bottom: var(--neu-space-md);
    }

    .neu-title {
        font-size: var(--neu-font-size-xl);
        margin-bottom: var(--neu-space-xs);
    }
}

/* High DPI mobile displays */
@media (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
    .neu-slider-thumb {
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .neu-btn {
        border: 1px solid rgba(255, 255, 255, 0.05);
    }
}

/* ===================================
   ACCESSIBILITY & PERFORMANCE
   =================================== */

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        transform: none !important;
        filter: none !important;
    }

    /* Maintain basic physics feedback */
    .neu-btn:active, .neu-slider-thumb:active {
        transform: translateY(-50%) translateX(-50%) scale(0.98) !important;
        transition: transform 0.1s ease !important;
    }
}

/* GPU acceleration for smooth physics */
.neu-btn, .neu-slider-thumb, .neu-icon-btn, .neu-toggle-label::after {
    transform: translateZ(0); /* Force GPU layer */
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Energy particle effects for enhanced interactivity */
@keyframes particle-burst {
    0% {
        opacity: 1;
        transform: scale(0.5) rotate(0deg);
        filter: blur(0px);
    }
    100% {
        opacity: 0;
        transform: scale(2) rotate(180deg);
        filter: blur(4px);
    }
}

/* Tactile feedback simulation */
.neu-btn::after,
.neu-slider-thumb::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    transform: translate(-50%, -50%) scale(0);
    background: radial-gradient(circle, var(--energy-glow) 0%, transparent 70%);
    pointer-events: none;
    opacity: 0;
    transition: all 0.3s var(--spring-gentle);
}

.neu-btn:active::after,
.neu-slider-thumb:active::after {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0.6;
    transition: all 0.1s var(--spring-exit);
}

/* Enhanced focus styles with physics */
.neu-btn:focus,
.neu-input:focus,
.neu-toggle-label:focus {
    outline: 2px solid var(--neu-accent);
    outline-offset: 2px;

    /* Physics-based focus indication */
    transform: scale(1.02);
    filter: brightness(1.05);
    box-shadow:
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        0 0 16px rgba(74, 158, 255, 0.3); /* Focus glow */

    transition:
        transform 0.2s var(--spring-bounce),
        filter 0.2s ease,
        box-shadow 0.3s var(--spring-gentle);
}

.neu-btn:focus:not(:active) {
    animation: ambient-pulse 2s ease-in-out infinite;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    :root {
        --neu-text-primary: #ffffff;
        --neu-text-secondary: #ffffff;
        --neu-light: #4a4a4a;
        --neu-dark: #0a0a0a;
    }
}

/* ===================================
   COMPUTER-ENHANCED EFFECTS & FINAL PHYSICS
   =================================== */

/* QUANTUM MATERIAL SIMULATION */
@keyframes quantum-fluctuation {
    0%, 100% {
        box-shadow:
            var(--neu-distance) var(--neu-distance) calc(var(--neu-blur) * 0.8) var(--neu-dark),
            calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) calc(var(--neu-blur) * 0.8) var(--neu-light);
    }
    25% {
        box-shadow:
            calc(var(--neu-distance) * 1.1) calc(var(--neu-distance) * 1.1) calc(var(--neu-blur) * 0.9) var(--neu-dark),
            calc(-1 * var(--neu-distance) * 1.1) calc(-1 * var(--neu-distance) * 1.1) calc(var(--neu-blur) * 0.9) var(--neu-light);
    }
    50% {
        box-shadow:
            calc(var(--neu-distance) * 0.9) calc(var(--neu-distance) * 0.9) calc(var(--neu-blur) * 1.1) var(--neu-dark),
            calc(-1 * var(--neu-distance) * 0.9) calc(-1 * var(--neu-distance) * 0.9) calc(var(--neu-blur) * 1.1) var(--neu-light);
    }
    75% {
        box-shadow:
            calc(var(--neu-distance) * 1.05) calc(var(--neu-distance) * 1.05) var(--neu-blur) var(--neu-dark),
            calc(-1 * var(--neu-distance) * 1.05) calc(-1 * var(--neu-distance) * 1.05) var(--neu-blur) var(--neu-light);
    }
}

@keyframes material-shimmer {
    0% {
        background-position: -200% center;
        filter: brightness(1) hue-rotate(0deg);
    }
    50% {
        filter: brightness(1.05) hue-rotate(2deg);
    }
    100% {
        background-position: 200% center;
        filter: brightness(1) hue-rotate(0deg);
    }
}

@keyframes digital-rain {
    0% {
        background-position: 0% 0%;
        opacity: 0.02;
    }
    50% {
        opacity: 0.05;
    }
    100% {
        background-position: 100% 100%;
        opacity: 0.02;
    }
}

/* LIVING SURFACE ENHANCEMENT */
.neu-btn, .neu-card, .neu-display, .neu-input {
    position: relative;
    overflow: hidden;
}

/* Light effects removed per user request */

/* QUANTUM SURFACE FLUCTUATIONS */
.neu-slider-track {
    animation: quantum-fluctuation 6s ease-in-out infinite;
}

/* DIGITAL AMBIENT FIELD */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
        repeating-linear-gradient(
            90deg,
            transparent 0px,
            rgba(74, 158, 255, 0.003) 1px,
            transparent 2px,
            transparent 40px
        ),
        repeating-linear-gradient(
            0deg,
            transparent 0px,
            rgba(255, 255, 255, 0.002) 1px,
            transparent 2px,
            transparent 40px
        );
    pointer-events: none;
    z-index: -1;
    animation: digital-rain 20s linear infinite;
}

/* ENHANCED TACTILE FEEDBACK */
.tactile-feedback {
    background: radial-gradient(
        circle,
        rgba(74, 158, 255, 0.6) 0%,
        rgba(74, 158, 255, 0.3) 30%,
        rgba(255, 255, 255, 0.1) 60%,
        transparent 100%
    ) !important;
    box-shadow:
        0 0 20px rgba(74, 158, 255, 0.4),
        inset 0 0 10px rgba(255, 255, 255, 0.2);
}

/* ENHANCED FOCUS PHYSICS */
.neu-btn:focus:not(:active) {
    animation: ambient-pulse 2s ease-in-out infinite, quantum-fluctuation 4s ease-in-out infinite;
}

.neu-btn:active {
    animation: quantum-fluctuation 0.2s ease-out;
}

.neu-slider-thumb:active {
    animation: energy-pulse 0.3s ease-out, quantum-fluctuation 0.2s ease-out;
}

/* ENHANCED INDICATOR ENERGY */
.neu-indicator--active {
    box-shadow:
        -2px -2px 4px var(--neu-light),
        2px 2px 4px var(--neu-dark),
        0 0 16px rgba(74, 222, 128, 0.5),
        0 0 32px rgba(74, 222, 128, 0.2),
        inset 0 0 0 1px rgba(255, 255, 255, 0.3),
        inset 0 0 8px rgba(74, 222, 128, 0.1);

    animation:
        energy-pulse 2s ease-in-out infinite,
        quantum-fluctuation 3s ease-in-out infinite;
}

/* ENHANCED TOGGLE PHYSICS */
.neu-toggle-input:checked + .neu-toggle-label {
    background: linear-gradient(
        135deg,
        var(--neu-base) 0%,
        rgba(74, 158, 255, 0.05) 50%,
        var(--neu-base) 100%
    );
    animation: quantum-fluctuation 2s ease-out;
}

/* ===================================
   COLORFUL MEDIA COMPONENTS
   =================================== */

/* Media Card Component */
.neu-media-card {
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    padding: var(--neu-space-lg);
    margin: var(--neu-space-md) 0;
    display: flex;
    align-items: center;
    gap: var(--neu-space-lg);
    position: relative;

    /* Neumorphic foundation */
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);

    transition: all 0.3s var(--spring-gentle);
}

.neu-media-card:hover {
    transform: translateY(-2px);
    box-shadow:
        calc(var(--neu-distance) + 2px) calc(var(--neu-distance) + 2px) calc(var(--neu-blur) + 4px) var(--neu-dark),
        calc(-1 * var(--neu-distance) - 2px) calc(-1 * var(--neu-distance) - 2px) calc(var(--neu-blur) + 4px) var(--neu-light),
        0 0 20px var(--component-shadow, rgba(74, 158, 255, 0.2));
}

/* Media Icon */
.neu-media-icon {
    font-size: 3rem;
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--neu-radius);
    background: var(--neu-base);

    /* Inset style for icon container */
    box-shadow:
        inset 4px 4px 8px var(--neu-dark),
        inset -4px -4px 8px var(--neu-light);

    transition: all 0.3s var(--spring-gentle);
}

.neu-photo .neu-media-icon {
    color: var(--color-photo);
}

.neu-video .neu-media-icon {
    color: var(--color-video);
}

/* Media Preview Container */
.neu-media-preview {
    width: 120px;
    height: 90px;
    border-radius: var(--neu-radius);
    overflow: hidden;
    background: var(--neu-base);
    position: relative;
    flex-shrink: 0;

    /* Inset style for preview container */
    box-shadow:
        inset 4px 4px 8px var(--neu-dark),
        inset -4px -4px 8px var(--neu-light);

    transition: all 0.3s var(--spring-gentle);
}

.neu-media-preview:hover {
    transform: scale(1.02);
    box-shadow:
        inset 6px 6px 12px var(--neu-dark),
        inset -6px -6px 12px var(--neu-light);
}

/* Media Image */
.neu-media-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: calc(var(--neu-radius) - 4px);
    transition: all 0.3s var(--spring-gentle);
}

.neu-media-image:hover {
    transform: scale(1.05);
    filter: brightness(1.1);
}

/* Media Video */
.neu-media-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: calc(var(--neu-radius) - 4px);
    background: var(--neu-base);
}

/* Video Placeholder */
.neu-video-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--neu-base) 0%, rgba(74, 158, 255, 0.05) 100%);
    color: var(--neu-text-secondary);
    font-size: var(--neu-font-size-sm);
    gap: var(--neu-space-xs);
    border-radius: calc(var(--neu-radius) - 4px);
    transition: all 0.3s var(--spring-gentle);
}

.neu-video-placeholder:hover {
    background: linear-gradient(135deg, var(--neu-base) 0%, rgba(74, 158, 255, 0.1) 100%);
    color: var(--neu-text-primary);
}

.neu-play-icon {
    font-size: 2rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    transition: all 0.3s var(--spring-gentle);
}

.neu-video-placeholder:hover .neu-play-icon {
    transform: scale(1.1);
    filter: drop-shadow(0 4px 8px rgba(74, 158, 255, 0.4));
}

/* Media Content */
/* IMPROVED MEDIA CONTENT ALIGNMENT AND SPACING */
.neu-media-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-sm);
    align-items: flex-start;
    text-align: left;
    min-width: 0; /* Allow text truncation */
}

.neu-media-content h3 {
    color: var(--neu-text-primary);
    font-size: var(--neu-font-size-lg);
    font-weight: 600;
    margin: 0;
    line-height: 1.3;
    /* Prevent text overflow */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
}

.neu-media-content p {
    color: var(--neu-text-secondary);
    font-size: var(--neu-font-size-sm);
    margin: 0;
    line-height: 1.4;
    /* Allow text wrapping for descriptions */
    white-space: normal;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

/* Media Actions - Better spacing and alignment */
.neu-media-actions {
    display: flex;
    gap: var(--neu-space-sm);
    margin-top: var(--neu-space-sm);
    flex-wrap: wrap;
    align-items: center;
    width: 100%;
}

/* Ensure media action buttons fit properly */
.neu-media-actions .neu-btn {
    flex: 0 0 auto;
    min-width: 60px;
    font-size: var(--neu-font-size-sm);
    padding: var(--neu-space-xs) var(--neu-space-sm);
}

/* Colorful Buttons */
.neu-btn.neu-photo {
    color: var(--color-photo);
    border: 1px solid hsla(var(--photo-h), var(--photo-s), var(--photo-l), 0.3);
}

.neu-btn.neu-photo:hover {
    background: hsla(var(--photo-h), var(--photo-s), var(--photo-l), 0.1);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 16px hsla(var(--photo-h), var(--photo-s), var(--photo-l), 0.4);
}

.neu-btn.neu-video {
    color: var(--color-video);
    border: 1px solid hsla(var(--video-h), var(--video-s), var(--video-l), 0.3);
}

.neu-btn.neu-video:hover {
    background: hsla(var(--video-h), var(--video-s), var(--video-l), 0.1);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 16px hsla(var(--video-h), var(--video-s), var(--video-l), 0.4);
}

/* Colorful Primary Buttons */
.neu-btn.neu-primary {
    color: var(--color-primary);
    border: 1px solid hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.3);
}

.neu-btn.neu-primary:hover {
    background: hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.1);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 16px hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.4);
}

.neu-btn.neu-secondary {
    color: var(--color-secondary);
    border: 1px solid hsla(var(--secondary-h), var(--secondary-s), var(--secondary-l), 0.3);
}

.neu-btn.neu-secondary:hover {
    background: hsla(var(--secondary-h), var(--secondary-s), var(--secondary-l), 0.1);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 16px hsla(var(--secondary-h), var(--secondary-s), var(--secondary-l), 0.4);
}

.neu-btn.neu-accent {
    color: var(--color-accent);
    border: 1px solid hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
}

.neu-btn.neu-accent:hover {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.1);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 16px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.4);
}

/* ENHANCED LAYOUT CLASSES FOR MISSING COMPONENTS */

/* Theme Grid - Better responsive layout */
.neu-theme-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--neu-space-sm);
    margin: var(--neu-space-md) 0;
}

/* Controls Layout */
.neu-controls {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-lg);
}

/* Button Row Layout - Missing class */
.neu-button-row {
    display: flex;
    gap: var(--neu-space-md);
    margin-top: var(--neu-space-md);
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-start;
}

/* Enhanced button text handling */
.neu-btn {
    /* Prevent text overflow and ensure proper sizing */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-width: 0;
    flex-shrink: 0;
    box-sizing: border-box;
}

/* Specialized button sizes for theme grid */
.neu-theme-grid .neu-btn {
    min-width: 120px;
    padding: var(--neu-space-sm) var(--neu-space-xs);
    font-size: var(--neu-font-size-sm);
    text-align: center;
    justify-content: center;
    align-items: center;
    display: flex;
    gap: var(--neu-space-xs);
    height: auto;
    min-height: 44px;
}

/* Icon button improvements */
.neu-btn--icon {
    flex-shrink: 0;
    white-space: normal;
    overflow: visible;
    text-overflow: unset;
}

/* ENHANCED MOBILE RESPONSIVE LAYOUT */
@media (max-width: 768px) {
    .neu-media-card {
        flex-direction: column;
        text-align: center;
        gap: var(--neu-space-md);
        padding: var(--neu-space-md);
    }

    .neu-media-content {
        align-items: center;
        text-align: center;
    }

    .neu-media-content h3,
    .neu-media-content p {
        text-align: center;
    }

    .neu-media-actions {
        justify-content: center;
        flex-wrap: wrap;
        width: 100%;
    }

    .neu-theme-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--neu-space-xs);
    }

    .neu-theme-grid .neu-btn {
        min-width: 100px;
        font-size: 0.8rem;
        padding: var(--neu-space-xs);
    }

    /* Better button text handling on mobile */
    .neu-button-row .neu-btn {
        flex: 1;
        min-width: 0;
        text-align: center;
    }

    /* Improved control group spacing */
    .neu-control-group {
        gap: var(--neu-space-lg);
    }

    /* Better input wrapper alignment */
    .neu-input-wrapper {
        align-items: stretch;
        text-align: left;
    }

    .neu-label {
        text-align: left;
        align-self: flex-start;
    }

    /* Fix toggle wrapper alignment */
    .neu-toggle-wrapper {
        align-items: flex-start;
        gap: var(--neu-space-sm);
    }
}

/* ===================================
   UTILITY CLASSES - MAXIMUM MODULARITY
   =================================== */

/* Size Modifiers */
.neu-size-xs { font-size: var(--neu-font-size-sm); padding: calc(var(--neu-space-xs) / 2) var(--neu-space-xs); }
.neu-size-sm { font-size: var(--neu-font-size-sm); padding: var(--neu-space-xs) var(--neu-space-sm); }
.neu-size-md { font-size: var(--neu-font-size-base); padding: var(--neu-space-sm) var(--neu-space-md); }
.neu-size-lg { font-size: var(--neu-font-size-lg); padding: var(--neu-space-md) var(--neu-space-lg); }
.neu-size-xl { font-size: var(--neu-font-size-xl); padding: var(--neu-space-lg) var(--neu-space-xl); }

/* Shape Modifiers */
.neu-rounded-sm { border-radius: var(--neu-space-xs); }
.neu-rounded-md { border-radius: var(--neu-space-sm); }
.neu-rounded-lg { border-radius: var(--neu-space-md); }
.neu-rounded-xl { border-radius: var(--neu-space-lg); }
.neu-rounded-full { border-radius: 50%; }

/* Shadow Intensity */
.neu-shadow-subtle {
    box-shadow:
        4px 4px 8px var(--neu-dark),
        -4px -4px 8px var(--neu-light);
}

.neu-shadow-normal {
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
}

.neu-shadow-strong {
    box-shadow:
        calc(var(--neu-distance) * 1.5) calc(var(--neu-distance) * 1.5) calc(var(--neu-blur) * 1.2) var(--neu-dark),
        calc(-1 * var(--neu-distance) * 1.5) calc(-1 * var(--neu-distance) * 1.5) calc(var(--neu-blur) * 1.2) var(--neu-light);
}

/* Inset Variants */
.neu-inset {
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
}

/* Layout Utilities */
.neu-flex { display: flex; }
.neu-flex-col { flex-direction: column; }
.neu-flex-center { justify-content: center; align-items: center; }
.neu-gap-xs { gap: var(--neu-space-xs); }
.neu-gap-sm { gap: var(--neu-space-sm); }
.neu-gap-md { gap: var(--neu-space-md); }
.neu-gap-lg { gap: var(--neu-space-lg); }

/* Text Utilities */
.neu-text-primary { color: var(--neu-text-primary); }
.neu-text-secondary { color: var(--neu-text-secondary); }
.neu-text-muted { color: var(--neu-text-muted); }
.neu-text-center { text-align: center; }

/* Color Background Utilities */
.neu-bg-primary { background: hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.1); }
.neu-bg-secondary { background: hsla(var(--secondary-h), var(--secondary-s), var(--secondary-l), 0.1); }
.neu-bg-accent { background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.1); }

/* Quick Component Builder */
.neu-component {
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    padding: var(--neu-space-md);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    transition: all 0.3s var(--spring-gentle);
}

.neu-component:hover {
    transform: translateY(-2px);
    box-shadow:
        calc(var(--neu-distance) + 2px) calc(var(--neu-distance) + 2px) calc(var(--neu-blur) + 4px) var(--neu-dark),
        calc(-1 * var(--neu-distance) - 2px) calc(-1 * var(--neu-distance) - 2px) calc(var(--neu-blur) + 4px) var(--neu-light);
}

/* PROJECT-SPECIFIC COMPONENT TEMPLATES */
/* Copy and modify these for your specific project needs */

/* Social Media Card Template */
.neu-social-card {
    @extend .neu-component;
    display: flex;
    align-items: center;
    gap: var(--neu-space-md);
}

.neu-social-card .neu-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    @extend .neu-inset;
}

/* Dashboard Widget Template */
.neu-widget {
    @extend .neu-component;
    min-height: 200px;
    display: flex;
    flex-direction: column;
}

.neu-widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--neu-space-md);
    padding-bottom: var(--neu-space-sm);
    border-bottom: 1px solid var(--neu-dark);
}

/* ===================================
   ENHANCED COMPONENT VARIANTS - AVALONIA INSPIRED
   =================================== */

/* ADVANCED BUTTON VARIANTS */
.neu-btn-filled {
    background: var(--color-primary);
    color: var(--on-surface);
    box-shadow: var(--elevation-2);
}

.neu-btn-outlined {
    background: transparent;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);
    box-shadow: var(--elevation-0);
}

.neu-btn-text {
    background: transparent;
    color: var(--color-primary);
    box-shadow: var(--elevation-0);
    min-height: 36px;
    padding: var(--neu-space-xs) var(--neu-space-sm);
}

.neu-btn-elevated {
    box-shadow: var(--elevation-3);
}

/* BUTTON SIZES */
.neu-btn-small {
    padding: var(--neu-space-xs) var(--neu-space-sm);
    font-size: var(--neu-font-size-sm);
    min-height: 32px;
}

.neu-btn-large {
    padding: var(--neu-space-md) var(--neu-space-lg);
    font-size: var(--neu-font-size-lg);
    min-height: 56px;
}

.neu-btn-icon {
    width: 44px;
    height: 44px;
    padding: 0;
    border-radius: 50%;
}

/* ENHANCED HOVER STATES */
.neu-btn-filled:hover {
    background: var(--primary-600);
    box-shadow: var(--elevation-3);
    transform: translateY(-2px);
}

.neu-btn-outlined:hover {
    background: var(--state-hover);
    transform: translateY(-1px);
}

.neu-btn-text:hover {
    background: var(--state-hover);
}

/* SEMANTIC BUTTON COLORS */
.neu-btn-success {
    background: var(--success-color);
    color: var(--on-surface);
}

.neu-btn-warning {
    background: var(--warning-color);
    color: var(--on-surface);
}

.neu-btn-error {
    background: var(--error-color);
    color: var(--on-surface);
}

.neu-btn-info {
    background: var(--info-color);
    color: var(--on-surface);
}

/* SPECIALIZED COMPONENT BUTTONS */
.neu-btn-photo {
    background: var(--photo-color);
    color: var(--on-surface);
    border: 1px solid transparent;
}

.neu-btn-video {
    background: var(--video-color);
    color: var(--on-surface);
    border: 1px solid transparent;
}

.neu-btn-audio {
    background: var(--audio-color);
    color: var(--on-surface);
    border: 1px solid transparent;
}

.neu-btn-document {
    background: var(--document-color);
    color: var(--on-surface);
    border: 1px solid transparent;
}

/* ENHANCED CARDS */
.neu-card-elevated {
    box-shadow: var(--elevation-3);
}

.neu-card-outlined {
    border: 1px solid var(--state-hover);
    box-shadow: var(--elevation-1);
}

.neu-card-filled {
    background: var(--surface-variant);
}

/* CHIP COMPONENTS */
.neu-chip {
    display: inline-flex;
    align-items: center;
    padding: var(--neu-space-xs) var(--neu-space-sm);
    border-radius: calc(var(--neu-radius) * 2);
    background: var(--surface-variant);
    color: var(--on-surface-variant);
    font-size: var(--neu-font-size-sm);
    gap: var(--neu-space-xs);
    box-shadow: var(--elevation-1);
    transition: all 0.2s var(--spring-gentle);
}

.neu-chip:hover {
    background: var(--state-hover);
    box-shadow: var(--elevation-2);
}

.neu-chip-outlined {
    background: transparent;
    border: 1px solid var(--state-hover);
}

/* BADGE COMPONENTS */
.neu-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 10px;
    background: var(--error-color);
    color: var(--on-surface);
    font-size: 12px;
    font-weight: 600;
    line-height: 1;
}

.neu-badge-primary {
    background: var(--color-primary);
}

.neu-badge-secondary {
    background: var(--color-secondary);
}

.neu-badge-success {
    background: var(--success-color);
}

/* ENHANCED INPUT COMPONENTS */
.neu-input-outlined {
    background: transparent;
    border: 2px solid var(--state-hover);
    box-shadow: var(--elevation-0);
}

.neu-input-outlined:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px var(--state-focus);
}

.neu-input-filled {
    background: var(--surface-variant);
    border: none;
    border-bottom: 2px solid var(--state-hover);
    border-radius: var(--neu-radius) var(--neu-radius) 0 0;
}

.neu-input-filled:focus {
    border-bottom-color: var(--color-primary);
}

/* FLOATING ACTION BUTTON */
.neu-fab {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--color-primary);
    color: var(--on-surface);
    border: none;
    box-shadow: var(--elevation-3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s var(--spring-gentle);
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 1000;
}

.neu-fab:hover {
    box-shadow: var(--elevation-4);
    transform: scale(1.1);
}

.neu-fab-small {
    width: 40px;
    height: 40px;
    font-size: 18px;
}

.neu-fab-extended {
    width: auto;
    padding: 0 var(--neu-space-lg);
    border-radius: calc(var(--neu-radius) * 2);
    gap: var(--neu-space-sm);
}

/* TOOLTIP COMPONENT */
.neu-tooltip {
    position: relative;
    display: inline-block;
}

.neu-tooltip::before {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 125%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--surface-variant);
    color: var(--on-surface);
    padding: var(--neu-space-xs) var(--neu-space-sm);
    border-radius: var(--neu-radius);
    font-size: var(--neu-font-size-sm);
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    box-shadow: var(--elevation-2);
    z-index: 1000;
}

.neu-tooltip:hover::before {
    opacity: 1;
    visibility: visible;
}

/* LIQUID PROGRESS ENHANCEMENT */
.neu-progress-fill::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.3) 50%,
        transparent 100%
    );
    animation: material-shimmer 2s linear infinite;
    z-index: 2;
}

/* COMPLETION QUANTUM BURST */
.neu-progress-fill[style*="100%"] {
    animation:
        flow-energy 0.3s linear,
        energy-pulse 1.2s ease-out,
        quantum-fluctuation 0.8s ease-out;
    filter: brightness(1.3) saturate(1.2);
    box-shadow:
        inset 0 0 15px rgba(255, 255, 255, 0.2),
        0 0 20px rgba(74, 222, 128, 0.4),
        0 0 40px rgba(74, 222, 128, 0.2);
}

/* ENHANCED INPUT RESPONSIVENESS */
.neu-input:focus {
    background: radial-gradient(
        circle at center,
        rgba(74, 158, 255, 0.02) 0%,
        var(--neu-base) 70%
    );
    animation: quantum-fluctuation 1s ease-out;
}

/* COMPUTER-ENHANCED AMBIENT PULSE */
@keyframes ambient-pulse {
    0%, 100% {
        opacity: 0.5;
        filter: brightness(1) hue-rotate(0deg);
        transform: scale(1);
    }
    25% {
        opacity: 0.65;
        filter: brightness(1.05) hue-rotate(2deg);
        transform: scale(1.005);
    }
    50% {
        opacity: 0.8;
        filter: brightness(1.08) hue-rotate(5deg);
        transform: scale(1.01);
    }
    75% {
        opacity: 0.65;
        filter: brightness(1.05) hue-rotate(2deg);
        transform: scale(1.005);
    }
}

/* ENHANCED ENERGY FLOW */
@keyframes flow-energy {
    0% {
        background-position: 0 0, 0 0, 0 0;
        filter: brightness(1) hue-rotate(0deg);
    }
    25% {
        background-position: 6px 0, 10px 0, 8px 0;
        filter: brightness(1.1) hue-rotate(5deg);
    }
    50% {
        background-position: 12px 0, 20px 0, 17px 0;
        filter: brightness(1.05) hue-rotate(10deg);
    }
    75% {
        background-position: 18px 0, 30px 0, 26px 0;
        filter: brightness(1.08) hue-rotate(5deg);
    }
    100% {
        background-position: 25px 0, 40px 0, 35px 0;
        filter: brightness(1) hue-rotate(0deg);
    }
}

/* HIGH-DPI QUANTUM ENHANCEMENT */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .tactile-feedback {
        box-shadow:
            0 0 20px rgba(74, 158, 255, 0.5),
            0 0 40px rgba(74, 158, 255, 0.2),
            inset 0 0 10px rgba(255, 255, 255, 0.3),
            inset 0 0 20px rgba(74, 158, 255, 0.1);
        background:
            radial-gradient(circle, rgba(74, 158, 255, 0.7) 0%, rgba(255, 255, 255, 0.3) 30%, transparent 70%),
            radial-gradient(circle, rgba(255, 255, 255, 0.2) 20%, transparent 60%);
        filter: blur(0.5px);
    }
}

/* FINAL PHYSICS LAYER - SYSTEM-WIDE ENHANCEMENT */
* {
    /* Enable sub-pixel rendering for ultra-smooth animations */
    transform-style: preserve-3d;
    backface-visibility: hidden;
}

/* ===================================
   CALENDAR & DATE COMPONENTS
   =================================== */

/* Main Calendar Component */
    background: var(--neu-base);
    border-radius: var(--neu-radius-lg);
    padding: var(--neu-space-lg);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    width: 100%;
    max-width: 400px;
    position: relative;
    z-index: 1;
}

    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--neu-space-lg);
}

    font-size: var(--neu-font-size-lg);
    font-weight: 600;
    color: var(--neu-text-primary);
    margin: 0;
}

    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: bold;
    color: var(--neu-text-primary);
}

    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    margin-bottom: var(--neu-space-sm);
}

    text-align: center;
    font-size: var(--neu-font-size-sm);
    font-weight: 600;
    color: var(--neu-text-secondary);
    padding: var(--neu-space-sm);
}

    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
    margin-bottom: var(--neu-space-lg);
    align-items: center;
    justify-items: center;
}

    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--neu-font-size-sm);
    font-weight: 500;
    cursor: pointer;
    border-radius: var(--neu-radius);
    color: var(--neu-text-primary);
    background: var(--neu-base);
    box-shadow:
        inset 2px 2px 4px var(--neu-dark),
        inset -2px -2px 4px var(--neu-light);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    width: 100%;
    height: 40px;
    position: relative;
    text-align: center;
    line-height: 40px;
}

    transform: translateY(-1px);
    box-shadow:
        2px 2px 6px var(--neu-dark),
        -2px -2px 6px var(--neu-light);
    background: linear-gradient(145deg,
        var(--neu-light) 0%,
        var(--neu-base) 50%,
        var(--neu-dark) 100%);
}

    pointer-events: none;
    color: transparent;
    box-shadow: none;
    background: transparent;
}

    background: linear-gradient(145deg,
        hsl(220, 100%, 70%),
        var(--color-primary),
        hsl(220, 100%, 40%));
    color: white;
    font-weight: 700;
    box-shadow:
        2px 2px 8px rgba(0, 0, 0, 0.3),
        -2px -2px 8px rgba(255, 255, 255, 0.1),
        0 0 15px rgba(74, 158, 255, 0.4);
}

    background: linear-gradient(145deg,
        hsl(280, 85%, 70%),
        var(--color-secondary),
        hsl(280, 85%, 40%));
    color: white;
    font-weight: 700;
    box-shadow:
        inset 2px 2px 6px rgba(0, 0, 0, 0.2),
        inset -2px -2px 6px rgba(255, 255, 255, 0.1),
        0 0 12px rgba(180, 83, 180, 0.3);
}

    background: linear-gradient(145deg,
        hsl(220, 100%, 75%),
        var(--color-primary),
        hsl(220, 100%, 45%));
    box-shadow:
        inset 2px 2px 6px rgba(0, 0, 0, 0.2),
        inset -2px -2px 6px rgba(255, 255, 255, 0.1),
        0 0 20px rgba(74, 158, 255, 0.5);
}

    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: var(--neu-space-md);
    border-top: 1px solid var(--neu-border);
}

    font-size: var(--neu-font-size-sm);
    color: var(--neu-text-secondary);
    font-weight: 500;
}

/* Date Picker Component */
    position: relative;
    width: 100%;
    max-width: 300px;
    z-index: 1000;
}

.neu-date-input {
    cursor: pointer;
}

    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    pointer-events: auto;
}

/* Restore original dropdown styles */
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--neu-radius-lg);
    box-shadow:
        0 12px 40px rgba(0, 0, 0, 0.4),
        0 4px 16px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        0 0 20px rgba(74, 158, 255, 0.1);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform: translateZ(0);
    min-width: 280px;
    max-width: 320px;
    padding: var(--neu-space-md);
    pointer-events: auto;
}

    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--neu-radius-lg);
    box-shadow:
        0 12px 40px rgba(0, 0, 0, 0.4),
        0 4px 16px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        0 0 20px rgba(74, 158, 255, 0.1);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform: translateZ(0);
    min-width: 200px;
    max-height: 240px;
    overflow-y: auto;
    padding: var(--neu-space-xs) 0;
    margin-top: var(--neu-space-xs);
    animation: dropdown-enter 0.2s ease-out;
}

/* Mini Calendar for Date Picker */
.neu-mini-calendar {
    width: 100%;
}

.neu-mini-calendar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--neu-space-md);
}

.neu-mini-calendar-title {
    font-size: var(--neu-font-size-md);
    font-weight: 600;
    color: var(--neu-text-primary);
}

.neu-mini-calendar-weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px;
    margin-bottom: var(--neu-space-xs);
}

.neu-mini-calendar-weekdays span {
    text-align: center;
    font-size: var(--neu-font-size-xs);
    font-weight: 600;
    color: var(--neu-text-secondary);
    padding: var(--neu-space-xs);
}

.neu-mini-calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    align-items: center;
    justify-items: center;
}

.neu-mini-calendar-day {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--neu-font-size-xs);
    cursor: pointer;
    border-radius: var(--neu-radius-sm);
    color: var(--neu-text-primary);
    background: var(--neu-base);
    box-shadow:
        inset 1px 1px 2px var(--neu-dark),
        inset -1px -1px 2px var(--neu-light);
    transition: all 0.2s ease;
    width: 100%;
    height: 32px;
    text-align: center;
    line-height: 32px;
}

.neu-mini-calendar-day:hover {
    transform: translateY(-1px);
    box-shadow:
        1px 1px 3px var(--neu-dark),
        -1px -1px 3px var(--neu-light);
}

.neu-mini-calendar-day--empty {
    pointer-events: none;
    color: transparent;
    box-shadow: none;
    background: transparent;
}

.neu-mini-calendar-day--today {
    background: var(--color-primary);
    color: white;
    font-weight: 700;
    box-shadow:
        1px 1px 4px rgba(0, 0, 0, 0.3),
        -1px -1px 4px rgba(255, 255, 255, 0.1);
}

/* Time Picker Component */
.neu-time-picker {
    background: var(--neu-base);
    border-radius: var(--neu-radius-lg);
    padding: var(--neu-space-lg);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    width: 100%;
    max-width: 320px;
    position: relative;
    z-index: 1;
}

.neu-time-display {
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    color: var(--neu-text-primary);
    margin-bottom: var(--neu-space-lg);
    padding: var(--neu-space-md);
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
    letter-spacing: 0.05em;
}

.neu-time-controls {
    display: flex;
    gap: var(--neu-space-md);
    align-items: flex-end;
}

.neu-time-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--neu-space-sm);
}

.neu-time-label {
    font-size: var(--neu-font-size-sm);
    font-weight: 600;
    color: var(--neu-text-secondary);
    text-align: center;
}

.neu-time-input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--neu-space-xs);
}

.neu-time-input {
    width: 60px;
    text-align: center;
    font-weight: 600;
    font-size: var(--neu-font-size-md);
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
}

/* Remove spin buttons from number inputs */
.neu-time-input::-webkit-outer-spin-button,
.neu-time-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.neu-time-input[type=number] {
    -moz-appearance: textfield;
}

/* AM/PM Toggle Special Styling */
#am-pm-toggle {
    width: 60px;
    height: 40px;
    font-weight: 700;
    font-size: var(--neu-font-size-sm);
    background: linear-gradient(145deg,
        var(--color-primary),
        hsl(220, 100%, 40%));
    color: white;
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 15px rgba(74, 158, 255, 0.3);
}

#am-pm-toggle:hover {
    background: linear-gradient(145deg,
        hsl(220, 100%, 55%),
        var(--color-primary));
    box-shadow:
        var(--neu-distance-sm) var(--neu-distance-sm) var(--neu-blur-sm) var(--neu-dark),
        calc(-1 * var(--neu-distance-sm)) calc(-1 * var(--neu-distance-sm)) var(--neu-blur-sm) var(--neu-light),
        0 0 20px rgba(74, 158, 255, 0.4);
}

#am-pm-toggle:active {
    transform: translateY(1px);
    box-shadow:
        inset var(--neu-distance-sm) var(--neu-distance-sm) var(--neu-blur-sm) rgba(0, 0, 0, 0.2),
        inset calc(-1 * var(--neu-distance-sm)) calc(-1 * var(--neu-distance-sm)) var(--neu-blur-sm) rgba(255, 255, 255, 0.1);
}

/* Responsive Design for Calendar Components */
@media (max-width: 768px) {
        max-width: 100%;
        padding: var(--neu-space-md);
    }

        min-height: 36px;
        font-size: var(--neu-font-size-xs);
    }

    .neu-time-picker {
        max-width: 100%;
        padding: var(--neu-space-md);
    }

    .neu-time-display {
        font-size: 1.5rem;
    }

    .neu-time-controls {
        flex-direction: column;
        gap: var(--neu-space-lg);
    }

    .neu-time-section {
        width: 100%;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }

    .neu-time-input-group {
        flex-direction: row;
        gap: var(--neu-space-sm);
    }
}

/* Calendar Animation Effects */
@keyframes calendar-day-select {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(0.95);
    }
    100% {
        transform: scale(1);
    }
}

    animation: calendar-day-select 0.2s ease-in-out;
}

@keyframes date-picker-open {
    0% {
        opacity: 0;
        transform: translateY(-10px) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

    animation: date-picker-open 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Enhanced Focus States for Accessibility */
.neu-mini-calendar-day:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.neu-time-input:focus {
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(74, 158, 255, 0.3);
}

/* ===================================
   ENHANCED INPUT VARIANTS
   =================================== */

/* Input Container for Complex Inputs */
.neu-input-container {
    position: relative;
    display: flex;
    align-items: center;
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    overflow: hidden;
    transition: all 0.3s ease;
}

.neu-input-container:focus-within {
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(from var(--color-primary) r g b / 0.3);
}

/* Input with Icons */
.neu-input--with-icon {
    border: none;
    background: transparent;
    box-shadow: none;
    padding-left: var(--neu-space-xs);
    padding-right: var(--neu-space-xs);
    flex: 1;
}

.neu-input--centered {
    text-align: center;
    border: none;
    background: transparent;
    box-shadow: none;
    flex: 1;
    font-weight: 600;
    font-size: var(--neu-font-size-md);
}

/* Input Icons */
.neu-input-icon {
    position: absolute;
    color: var(--neu-text-secondary);
    font-size: var(--neu-font-size-md);
    pointer-events: none;
    z-index: 2;
}

.neu-input-icon--left {
    left: var(--neu-space-md);
}

.neu-input-icon--right {
    right: var(--neu-space-md);
}

/* Input Actions (buttons inside inputs) */
.neu-input-action {
    background: none;
    border: none;
    color: var(--neu-text-secondary);
    cursor: pointer;
    padding: var(--neu-space-sm);
    font-size: var(--neu-font-size-sm);
    transition: all 0.2s ease;
    border-radius: var(--neu-radius-sm);
    margin-right: var(--neu-space-xs);
}

.neu-input-action:hover {
    color: var(--neu-text-primary);
    background: rgba(from var(--color-primary) r g b / 0.1);
}

/* Search Input Specific */
.neu-search-input .neu-input-clear {
    background: var(--neu-base);
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
        2px 2px 4px var(--neu-dark),
        -2px -2px 4px var(--neu-light);
}

.neu-search-input .neu-input-clear:hover {
    transform: scale(1.1);
    box-shadow:
        1px 1px 2px var(--neu-dark),
        -1px -1px 2px var(--neu-light);
}

/* Number Input with Steppers */
.neu-number-input {
    display: flex;
    align-items: center;
    gap: 0;
}

/* Hide native number input spinners */
.neu-input--centered[type="number"] {
    -webkit-appearance: none;
    -moz-appearance: textfield;
    appearance: none;
}

.neu-input--centered[type="number"]::-webkit-outer-spin-button,
.neu-input--centered[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
    display: none;
}

.neu-input-stepper {
    background: var(--neu-base);
    border: none;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neu-text-primary);
    font-size: var(--neu-font-size-lg);
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow:
        2px 2px 4px var(--neu-dark),
        -2px -2px 4px var(--neu-light);
    flex-shrink: 0;
}

.neu-input-stepper:hover {
    transform: scale(1.05);
    color: var(--color-primary);
}

.neu-input-stepper:active {
    transform: scale(0.95);
    box-shadow:
        inset 2px 2px 4px var(--neu-dark),
        inset -2px -2px 4px var(--neu-light);
}

.neu-input-stepper--minus {
    border-radius: var(--neu-radius) 0 0 var(--neu-radius);
}

.neu-input-stepper--plus {
    border-radius: 0 var(--neu-radius) var(--neu-radius) 0;
}

/* Input Validation States */
.neu-input-validation {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: var(--neu-font-size-sm);
    font-weight: 600;
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    margin-right: var(--neu-space-sm);
}

.neu-input-validation.valid {
    color: var(--success-color);
}

.neu-input-validation.invalid {
    color: var(--error-color);
}

.neu-input-validation.checking {
    color: var(--warning-color);
}

/* Input Container States */
.neu-input-container.valid {
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(from var(--success-color) r g b / 0.3);
}

.neu-input-container.invalid {
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(from var(--error-color) r g b / 0.3);
}

/* Password Toggle */
.neu-password-toggle {
    min-width: 32px;
    height: 32px;
    border-radius: var(--neu-radius-sm);
    background: var(--neu-base);
    box-shadow:
        2px 2px 4px var(--neu-dark),
        -2px -2px 4px var(--neu-light);
}

.neu-password-toggle:hover {
    box-shadow:
        1px 1px 2px var(--neu-dark),
        -1px -1px 2px var(--neu-light);
}

.neu-password-toggle:active {
    box-shadow:
        inset 2px 2px 4px var(--neu-dark),
        inset -2px -2px 4px var(--neu-light);
}

/* Responsive Design for Enhanced Inputs */
@media (max-width: 768px) {
    .neu-input-container {
        min-height: 48px;
    }

    .neu-input-stepper {
        width: 36px;
        height: 36px;
        font-size: var(--neu-font-size-md);
    }

    .neu-input--with-icon {
        padding-left: var(--neu-space-lg);
        padding-right: var(--neu-space-lg);
    }
}

/* Enhanced Input Animation Effects */
@keyframes input-focus {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.01);
    }
    100% {
        transform: scale(1);
    }
}

.neu-input-container:focus-within {
    animation: input-focus 0.3s ease-in-out;
}

/* Accessibility Enhancements */
.neu-input-stepper:focus,
.neu-input-action:focus,
.neu-password-toggle:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* Remove default input styling */
.neu-input--with-icon:focus,
.neu-input--centered:focus {
    outline: none;
    box-shadow: none;
}

/* ===================================
   SELECT/DROPDOWN COMPONENTS
   =================================== */

/* Select Container */
    position: relative;
    display: flex;
    flex-direction: column;
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    transition: all 0.3s ease;
}

    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(from var(--color-primary) r g b / 0.3);
}

    background: linear-gradient(135deg,
        var(--neu-base) 0%,
        rgba(from var(--color-primary) r g b / 0.05) 100%);
}

/* Select Display */
    display: flex;
    align-items: center;
    padding: var(--neu-space-md) var(--neu-space-lg);
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease;
    min-height: 48px;
}

    background: rgba(from var(--color-primary) r g b / 0.05);
}

    transform: scale(0.98);
}

/* Select Value Display */
    flex: 1;
    color: var(--neu-text-primary);
    font-size: var(--neu-font-size-md);
    display: flex;
    align-items: center;
    gap: var(--neu-space-sm);
    margin-left: var(--neu-space-sm);
}

    font-size: var(--neu-font-size-lg);
    position: static !important;
    z-index: auto !important;
    display: inline-block;
    min-width: 24px;
    text-align: center;
    flex-shrink: 0;
}

/* Select Arrow */
    color: var(--neu-text-secondary);
    font-size: var(--neu-font-size-sm);
    transition: transform 0.3s ease;
    margin-left: var(--neu-space-sm);
}

    transform: rotate(180deg);
    color: var(--color-primary);
}

/* Dropdown */
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    margin-top: var(--neu-space-xs);
    overflow: hidden;
    animation: dropdown-enter 0.2s ease-out;
}

/* Original dropdown containers now handled by viewport overlay system */

@keyframes dropdown-enter {
    from {
        opacity: 0;
        transform: translateY(-8px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Select Options */
    display: flex;
    align-items: center;
    padding: var(--neu-space-md) var(--neu-space-lg);
    cursor: pointer;
    transition: all 0.2s ease;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    gap: var(--neu-space-md);
    background: transparent;
}

    border-bottom: none;
}

    background: rgba(255, 255, 255, 0.15);
    transform: translateX(4px);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
}

    background: rgba(255, 255, 255, 0.2);
    transform: translateX(4px) scale(0.98);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
}

    background: rgba(74, 158, 255, 0.2);
    border-left: 3px solid rgba(74, 158, 255, 0.8);
    padding-left: calc(var(--neu-space-lg) - 3px);
    box-shadow: inset 0 0 0 1px rgba(74, 158, 255, 0.3);
}

    background: rgba(74, 158, 255, 0.15);
    box-shadow: inset 0 0 0 1px rgba(74, 158, 255, 0.25);
}

/* Option Content */
.neu-option-icon {
    font-size: var(--neu-font-size-lg);
    flex-shrink: 0;
    position: static !important;
    z-index: auto !important;
    display: inline-block;
    min-width: 24px;
    text-align: center;
}

.neu-option-text {
    flex: 1;
    color: var(--neu-text-primary);
    font-size: var(--neu-font-size-md);
    font-weight: 500;
    margin-left: var(--neu-space-xs);
}

/* Checkbox for Multi-Select */
.neu-option-checkbox {
    width: 18px;
    height: 18px;
    border-radius: var(--neu-radius-sm);
    background: var(--neu-base);
    border: 2px solid var(--neu-text-secondary);
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.neu-option-checkbox:checked {
    background: var(--color-primary);
    border-color: var(--color-primary);
}

.neu-option-checkbox:checked::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
}

/* Multi-Select Tags Container */
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--neu-space-sm);
    flex: 1;
    min-height: 24px;
}

    color: var(--neu-text-secondary);
    font-style: italic;
}

/* Multi-Select Tag */
    display: inline-flex;
    align-items: center;
    gap: var(--neu-space-xs);
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    padding: var(--neu-space-xs) var(--neu-space-sm);
    font-size: var(--neu-font-size-sm);
    color: var(--neu-text-primary);
    box-shadow:
        2px 2px 4px var(--neu-dark),
        -2px -2px 4px var(--neu-light);
    animation: tag-enter 0.2s ease-out;
    border: 1px solid rgba(from var(--color-primary) r g b / 0.2);
}

@keyframes tag-enter {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

    font-size: var(--neu-font-size-sm);
    position: static !important;
    z-index: auto !important;
    display: inline-block;
    flex-shrink: 0;
}

    font-weight: 500;
}

    background: none;
    border: none;
    color: var(--neu-text-secondary);
    cursor: pointer;
    font-size: 12px;
    padding: 2px;
    border-radius: 50%;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    margin-left: var(--neu-space-xs);
}

    background: rgba(from var(--error-color) r g b / 0.2);
    color: var(--error-color);
    transform: scale(1.1);
}

/* Glassmorphic Scrollbar for Dropdown */
    width: 6px;
}

    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
}

    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    transition: background 0.3s ease;
}

    background: rgba(255, 255, 255, 0.3);
}

/* Responsive Design for Select Components */
@media (max-width: 768px) {
        padding: var(--neu-space-sm) var(--neu-space-md);
        min-height: 44px;
    }

        padding: var(--neu-space-sm) var(--neu-space-md);
    }

        max-height: 200px;
    }

        padding: 4px var(--neu-space-xs);
        font-size: var(--neu-font-size-xs);
    }
}

/* Accessibility Enhancements for Select */
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

    background: rgba(from var(--color-primary) r g b / 0.2);
    outline: none;
}

/* Loading State for Select */
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Error State for Select */
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(from var(--error-color) r g b / 0.5);
}

/* Valid State for Select */
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 0 2px rgba(from var(--success-color) r g b / 0.5);
}

/* Fix input icons in select components */
    position: static !important;
    z-index: auto !important;
    display: inline-block;
    flex-shrink: 0;
    margin-right: var(--neu-space-xs);
}

/* Ensure proper spacing in select displays */
    margin-right: var(--neu-space-sm);
}

/* ===================================
   TOOLTIP COMPONENTS
   =================================== */

/* Tooltip Demo Grid */
.neu-tooltip-demo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--neu-space-lg);
    margin-bottom: var(--neu-space-lg);
    align-items: center;
    justify-items: center;
}

/* Tooltip Wrapper */
.neu-tooltip-wrapper {
    position: relative;
    display: inline-block;
}

/* Tooltip Trigger Elements */
.neu-tooltip-trigger {
    display: inline-flex;
    align-items: center;
    gap: var(--neu-space-xs);
    padding: var(--neu-space-sm) var(--neu-space-md);
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    color: var(--neu-text-primary);
    font-size: var(--neu-font-size-sm);
    cursor: help;
    transition: all 0.2s ease;
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
}

.neu-tooltip-trigger:hover {
    transform: translateY(-1px);
    box-shadow:
        calc(var(--neu-distance) + 1px) calc(var(--neu-distance) + 1px) calc(var(--neu-blur) + 2px) var(--neu-dark),
        calc(-1 * var(--neu-distance) - 1px) calc(-1 * var(--neu-distance) - 1px) calc(var(--neu-blur) + 2px) var(--neu-light);
}

/* Status Indicators for Tooltip Demo */
.neu-status-indicator {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    cursor: help;
    transition: all 0.2s ease;
    box-shadow:
        2px 2px 4px var(--neu-dark),
        -2px -2px 4px var(--neu-light);
}

.neu-status-success {
    background: linear-gradient(135deg, var(--success-color), #22c55e);
}

.neu-status-indicator:hover {
    transform: scale(1.1);
    box-shadow:
        3px 3px 6px var(--neu-dark),
        -3px -3px 6px var(--neu-light);
}

/* Tooltip */
.neu-tooltip {
    position: absolute;
    z-index: 10000;
    pointer-events: none;
    opacity: 0;
    transform: scale(0.95);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.3));
}

.neu-tooltip.show {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}

/* Tooltip Container */
.neu-tooltip-container {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--neu-radius);
    padding: var(--neu-space-sm) var(--neu-space-md);
    color: rgba(255, 255, 255, 0.95);
    font-size: var(--neu-font-size-sm);
    font-weight: 500;
    line-height: 1.4;
    max-width: 300px;
    word-wrap: break-word;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

/* Tooltip Arrow */
.neu-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
}

/* Tooltip Positioning */
.neu-tooltip.top {
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%) scale(0.95);
}

.neu-tooltip.top.show {
    transform: translateX(-50%) scale(1);
}

.neu-tooltip.top .neu-tooltip-arrow {
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 6px 6px 0 6px;
    border-color: rgba(255, 255, 255, 0.2) transparent transparent transparent;
}

.neu-tooltip.bottom {
    top: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%) scale(0.95);
}

.neu-tooltip.bottom.show {
    transform: translateX(-50%) scale(1);
}

.neu-tooltip.bottom .neu-tooltip-arrow {
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 0 6px 6px 6px;
    border-color: transparent transparent rgba(255, 255, 255, 0.2) transparent;
}

.neu-tooltip.left {
    right: calc(100% + 8px);
    top: 50%;
    transform: translateY(-50%) scale(0.95);
}

.neu-tooltip.left.show {
    transform: translateY(-50%) scale(1);
}

.neu-tooltip.left .neu-tooltip-arrow {
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    border-width: 6px 0 6px 6px;
    border-color: transparent transparent transparent rgba(255, 255, 255, 0.2);
}

.neu-tooltip.right {
    left: calc(100% + 8px);
    top: 50%;
    transform: translateY(-50%) scale(0.95);
}

.neu-tooltip.right.show {
    transform: translateY(-50%) scale(1);
}

.neu-tooltip.right .neu-tooltip-arrow {
    right: 100%;
    top: 50%;
    transform: translateY(-50%);
    border-width: 6px 6px 6px 0;
    border-color: transparent rgba(255, 255, 255, 0.2) transparent transparent;
}

/* Rich Tooltip Content */
.neu-tooltip-content {
    min-width: 250px;
    max-width: 350px;
}

.neu-tooltip-header {
    padding-bottom: var(--neu-space-xs);
    margin-bottom: var(--neu-space-xs);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    font-weight: 600;
    font-size: var(--neu-font-size-md);
}

.neu-tooltip-body {
    font-size: var(--neu-font-size-sm);
    line-height: 1.5;
}

.neu-tooltip-body p {
    margin: 0 0 var(--neu-space-sm) 0;
}

.neu-tooltip-body p:last-child {
    margin-bottom: 0;
}

.neu-tooltip-actions {
    margin-top: var(--neu-space-md);
    display: flex;
    gap: var(--neu-space-sm);
    justify-content: flex-end;
}

.neu-tooltip-actions .neu-btn {
    font-size: var(--neu-font-size-xs);
    padding: var(--neu-space-xs) var(--neu-space-sm);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.9);
}

.neu-tooltip-actions .neu-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 1);
}

/* Responsive Tooltip Design */
@media (max-width: 768px) {
    .neu-tooltip-demo-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: var(--neu-space-md);
    }

    .neu-tooltip-container {
        max-width: 250px;
        font-size: var(--neu-font-size-xs);
        padding: var(--neu-space-xs) var(--neu-space-sm);
    }

    .neu-tooltip-content {
        min-width: 200px;
        max-width: 280px;
    }

    .neu-tooltip-arrow {
        border-width: 5px;
    }

    .neu-tooltip.top .neu-tooltip-arrow {
        border-width: 5px 5px 0 5px;
    }

    .neu-tooltip.bottom .neu-tooltip-arrow {
        border-width: 0 5px 5px 5px;
    }

    .neu-tooltip.left .neu-tooltip-arrow {
        border-width: 5px 0 5px 5px;
    }

    .neu-tooltip.right .neu-tooltip-arrow {
        border-width: 5px 5px 5px 0;
    }
}

/* Accessibility Enhancements */
.neu-tooltip-wrapper:focus-within .neu-tooltip {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .neu-tooltip-container {
        background: rgba(0, 0, 0, 0.9);
        border: 2px solid rgba(255, 255, 255, 0.8);
        color: rgba(255, 255, 255, 1);
    }

    .neu-tooltip-arrow {
        border-color: rgba(255, 255, 255, 0.8) !important;
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .neu-tooltip {
        transition: opacity 0.2s ease;
    }

    .neu-tooltip.show {
        transform: scale(1);
    }

    .neu-tooltip.top,
    .neu-tooltip.bottom {
        transform: translateX(-50%);
    }

    .neu-tooltip.left,
    .neu-tooltip.right {
        transform: translateY(-50%);
    }
}

/* ===================================
   MODAL/DIALOG COMPONENTS
   =================================== */

/* Modal Overlay */
.neu-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 20000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.neu-modal.show {
    opacity: 1;
    visibility: visible;
}

/* Modal Backdrop */
.neu-modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    cursor: pointer;
}

/* Modal Container */
.neu-modal-container {
    position: relative;
    z-index: 1;
    max-width: 90vw;
    max-height: 90vh;
    overflow: hidden;
    transform: scale(0.9) translateY(30px);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.neu-modal.show .neu-modal-container {
    transform: scale(1) translateY(0);
}

/* Modal Size Variants */
.neu-modal-size-small {
    width: 400px;
    max-width: 90vw;
}

.neu-modal-size-medium {
    width: 600px;
    max-width: 90vw;
}

.neu-modal-size-large {
    width: 900px;
    max-width: 95vw;
}

.neu-modal-size-fullscreen {
    width: 100vw;
    height: 100vh;
    max-width: 100vw;
    max-height: 100vh;
}

/* Modal Content */
.neu-modal-content {
    background: var(--neu-base);
    border-radius: var(--neu-radius-lg);
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 16px 64px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    height: 100%;
}

/* Modal Header */
.neu-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--neu-space-lg) var(--neu-space-xl);
    background: linear-gradient(135deg,
        rgba(from var(--color-primary) r g b / 0.05) 0%,
        transparent 100%);
    border-bottom: 1px solid rgba(from var(--neu-text-secondary) r g b / 0.1);
    flex-shrink: 0;
}

.neu-modal-title {
    margin: 0;
    font-size: var(--neu-font-size-lg);
    font-weight: 600;
    color: var(--neu-text-primary);
    display: flex;
    align-items: center;
    gap: var(--neu-space-sm);
}

.neu-modal-close {
    background: var(--neu-base);
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: var(--neu-font-size-lg);
    color: var(--neu-text-secondary);
    transition: all 0.2s ease;
    box-shadow:
        2px 2px 4px var(--neu-dark),
        -2px -2px 4px var(--neu-light);
}

.neu-modal-close:hover {
    transform: scale(1.1);
    color: var(--neu-text-primary);
    box-shadow:
        3px 3px 6px var(--neu-dark),
        -3px -3px 6px var(--neu-light);
}

.neu-modal-close:active {
    transform: scale(0.95);
    box-shadow:
        inset 2px 2px 4px var(--neu-dark),
        inset -2px -2px 4px var(--neu-light);
}

/* Modal Body */
.neu-modal-body {
    padding: var(--neu-space-xl);
    flex: 1;
    overflow-y: auto;
    font-size: var(--neu-font-size-md);
    line-height: 1.6;
    color: var(--neu-text-primary);
}

.neu-modal-body p {
    margin: 0 0 var(--neu-space-md) 0;
}

.neu-modal-body p:last-child {
    margin-bottom: 0;
}

/* Modal Footer */
.neu-modal-footer {
    display: flex;
    gap: var(--neu-space-md);
    justify-content: flex-end;
    padding: var(--neu-space-lg) var(--neu-space-xl);
    background: linear-gradient(135deg,
        transparent 0%,
        rgba(from var(--neu-text-secondary) r g b / 0.02) 100%);
    border-top: 1px solid rgba(from var(--neu-text-secondary) r g b / 0.1);
    flex-shrink: 0;
}

/* Modal Form Styling */
.neu-modal-form {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-lg);
}

.neu-form-group {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-sm);
}

.neu-textarea {
    resize: vertical;
    min-height: 80px;
    font-family: inherit;
}

/* Info Grid in Modal */
.neu-info-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--neu-space-md);
    margin-top: var(--neu-space-lg);
}

.neu-info-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--neu-space-md);
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    box-shadow:
        inset 2px 2px 4px var(--neu-dark),
        inset -2px -2px 4px var(--neu-light);
}

.neu-info-item strong {
    color: var(--neu-text-primary);
    font-weight: 600;
}

.neu-info-item span {
    color: var(--neu-text-secondary);
    font-size: var(--neu-font-size-sm);
}

/* Warning Box */
.neu-warning-box {
    padding: var(--neu-space-md);
    background: linear-gradient(135deg,
        rgba(from var(--warning-color) r g b / 0.1) 0%,
        rgba(from var(--warning-color) r g b / 0.05) 100%);
    border: 1px solid rgba(from var(--warning-color) r g b / 0.3);
    border-radius: var(--neu-radius);
    margin-top: var(--neu-space-md);
    color: var(--warning-color);
    font-size: var(--neu-font-size-sm);
}

/* Image Modal Content */
.neu-image-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 300px;
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    text-align: center;
    margin-bottom: var(--neu-space-lg);
}

.neu-image-icon {
    font-size: 4rem;
    margin-bottom: var(--neu-space-md);
    opacity: 0.6;
}

.neu-image-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--neu-space-lg);
}

.neu-image-counter {
    color: var(--neu-text-secondary);
    font-weight: 500;
    min-width: 60px;
    text-align: center;
}

/* Large Modal Content */
.neu-large-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--neu-space-xl);
    margin-top: var(--neu-space-lg);
}

.neu-content-section h4 {
    margin: 0 0 var(--neu-space-md) 0;
    color: var(--neu-text-primary);
    font-weight: 600;
}

.neu-chart-placeholder {
    height: 200px;
    background: var(--neu-base);
    border-radius: var(--neu-radius);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neu-text-secondary);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
}

/* Fullscreen Modal Content */
.neu-fullscreen-content {
    text-align: center;
}

.neu-hero-section {
    margin-bottom: var(--neu-space-xxl);
}

.neu-hero-section h2 {
    margin: 0 0 var(--neu-space-lg) 0;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--neu-text-primary);
}

.neu-hero-section p {
    font-size: var(--neu-font-size-lg);
    color: var(--neu-text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

.neu-feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--neu-space-xl);
    margin-top: var(--neu-space-xxl);
}

.neu-feature-card {
    padding: var(--neu-space-xl);
    background: var(--neu-base);
    border-radius: var(--neu-radius-lg);
    text-align: center;
    box-shadow:
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    transition: all 0.3s ease;
}

.neu-feature-card:hover {
    transform: translateY(-4px);
    box-shadow:
        calc(var(--neu-distance) + 2px) calc(var(--neu-distance) + 2px) calc(var(--neu-blur) + 4px) var(--neu-dark),
        calc(-1 * var(--neu-distance) - 2px) calc(-1 * var(--neu-distance) - 2px) calc(var(--neu-blur) + 4px) var(--neu-light);
}

.neu-feature-icon {
    font-size: 3rem;
    margin-bottom: var(--neu-space-lg);
}

.neu-feature-card h4 {
    margin: 0 0 var(--neu-space-md) 0;
    color: var(--neu-text-primary);
    font-weight: 600;
}

.neu-feature-card p {
    margin: 0;
    color: var(--neu-text-secondary);
    font-size: var(--neu-font-size-sm);
}

/* Responsive Modal Design */
@media (max-width: 768px) {
    .neu-modal-container {
        max-width: 95vw;
        max-height: 95vh;
    }

    .neu-modal-header,
    .neu-modal-body,
    .neu-modal-footer {
        padding-left: var(--neu-space-lg);
        padding-right: var(--neu-space-lg);
    }

    .neu-modal-header,
    .neu-modal-footer {
        padding-top: var(--neu-space-md);
        padding-bottom: var(--neu-space-md);
    }

    .neu-modal-body {
        padding-top: var(--neu-space-lg);
        padding-bottom: var(--neu-space-lg);
    }

    .neu-modal-footer {
        flex-direction: column-reverse;
        gap: var(--neu-space-sm);
    }

    .neu-modal-footer .neu-btn {
        width: 100%;
    }

    .neu-large-content {
        grid-template-columns: 1fr;
        gap: var(--neu-space-lg);
    }

    .neu-feature-grid {
        grid-template-columns: 1fr;
        gap: var(--neu-space-lg);
    }

    .neu-hero-section h2 {
        font-size: 2rem;
    }

    .neu-modal-size-fullscreen {
        border-radius: 0;
    }

    .neu-modal-size-fullscreen .neu-modal-content {
        border-radius: 0;
    }
}

/* Accessibility Enhancements */
.neu-modal[aria-hidden="true"] {
    pointer-events: none;
}

.neu-modal[aria-hidden="false"] {
    pointer-events: auto;
}

/* Focus Management */
.neu-modal-close:focus,
.neu-modal .neu-btn:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .neu-modal-backdrop {
        background: rgba(0, 0, 0, 0.8);
    }

    .neu-modal-content {
        border: 2px solid var(--neu-text-primary);
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .neu-modal {
        transition: opacity 0.2s ease;
    }

    .neu-modal-container {
        transition: none;
        transform: none;
    }

    .neu-modal.show .neu-modal-container {
        transform: none;
    }

    .neu-feature-card {
        transition: none;
    }

    .neu-feature-card:hover {
        transform: none;
    }
}

/* Fix input icons in enhanced input containers */
.neu-input-container .neu-input-icon {
    position: static !important;
    z-index: auto !important;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    margin-left: var(--neu-space-sm);
    margin-right: var(--neu-space-xs);
}

.neu-input-container .neu-input-icon--right {
    margin-left: var(--neu-space-xs);
    margin-right: var(--neu-space-sm);
}

/* ===================================
   ORGANIZED COMPONENT FIXES
   =================================== */

/* Better spacing between components */
.neu-section {
    margin-bottom: var(--neu-space-xxl);
}

.neu-component-showcase {
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-xl);
}

.neu-input-group,
.neu-button-group,
.neu-control-group,
    display: flex;
    flex-direction: column;
    gap: var(--neu-space-lg);
    margin-bottom: var(--neu-space-xl);
}

.neu-section + .neu-section {
    margin-top: var(--neu-space-xxl);
}

/* Enhanced Password Input Styling */
.neu-input-wrapper {
    position: relative;
    width: 100%;
}

.neu-input-action {
    position: absolute;
    right: var(--neu-space-sm);
    top: 50%;
    transform: translateY(-50%);
    background: var(--neu-base);
    border: none;
    color: var(--neu-text-secondary);
    cursor: pointer;
    padding: var(--neu-space-xs);
    font-size: var(--neu-font-size-sm);
    transition: all 0.2s ease;
    border-radius: var(--neu-radius-sm);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
        -2px -2px 4px var(--neu-light),
        2px 2px 4px var(--neu-dark);
}

.neu-input-action:hover {
    color: var(--neu-text-primary);
    transform: translateY(-50%) scale(1.05);
    box-shadow:
        -3px -3px 6px var(--neu-light),
        3px 3px 6px var(--neu-dark);
}

.neu-input-action:active {
    transform: translateY(-50%) scale(0.95);
    box-shadow:
        inset -1px -1px 2px var(--neu-light),
        inset 1px 1px 2px var(--neu-dark);
}

/* Remove search clear button */
.neu-search-clear {
    display: none !important;
}

.neu-search-wrapper {
    position: relative;
    width: 100%;
}

.neu-input--search {
    width: 100%;
    padding-right: var(--neu-space-lg);
}

/* Enhanced Number Input Controls */
.neu-number-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    background: var(--neu-base);
    border-radius: var(--neu-radius-md);
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
    overflow: hidden;
}

.neu-number-btn {
    background: var(--neu-base);
    border: none;
    color: var(--neu-text-primary);
    cursor: pointer;
    padding: var(--neu-space-md);
    font-size: var(--neu-font-size-md);
    font-weight: 600;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
    height: 44px;
    position: relative;
    box-shadow:
        -2px -2px 4px var(--neu-light),
        2px 2px 4px var(--neu-dark);
}

.neu-number-btn:hover {
    transform: scale(1.05);
    box-shadow:
        -3px -3px 6px var(--neu-light),
        3px 3px 6px var(--neu-dark);
}

.neu-number-btn:active {
    transform: scale(0.95);
    box-shadow:
        inset -1px -1px 2px var(--neu-light),
        inset 1px 1px 2px var(--neu-dark);
}

.neu-input--number {
    border: none;
    background: transparent;
    text-align: center;
    font-size: var(--neu-font-size-md);
    font-weight: 500;
    color: var(--neu-text-primary);
    flex: 1;
    min-width: 60px;
    box-shadow: none;
}

.neu-input--number:focus {
    outline: none;
    box-shadow: none;
}

/* Enhanced Selection Components */
    position: relative;
    width: 100%;
}

    width: 100%;
    background: var(--neu-base);
    border: none;
    padding: var(--neu-space-md);
    border-radius: var(--neu-radius-md);
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow:
        -var(--neu-distance) -var(--neu-distance) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark);
}

    transform: translateY(-1px);
    box-shadow:
        -calc(var(--neu-distance) + 1px) -calc(var(--neu-distance) + 1px) calc(var(--neu-blur) + 2px) var(--neu-light),
        calc(var(--neu-distance) + 1px) calc(var(--neu-distance) + 1px) calc(var(--neu-blur) + 2px) var(--neu-dark);
}

    transform: translateY(0) scale(0.98);
    box-shadow:
        inset -2px -2px 4px var(--neu-light),
        inset 2px 2px 4px var(--neu-dark);
}

.neu-date-display,
    color: var(--neu-text-primary);
    font-weight: 500;
}

.neu-date-icon,
    font-size: var(--neu-font-size-lg);
    transition: transform 0.2s ease;
}

    transform: rotate(180deg);
}

/* Multi-select Display */
    width: 100%;
    background: var(--neu-base);
    border: none;
    padding: var(--neu-space-md);
    border-radius: var(--neu-radius-md);
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 52px;
    box-shadow:
        -var(--neu-distance) -var(--neu-distance) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark);
}

    transform: translateY(-1px);
    box-shadow:
        -calc(var(--neu-distance) + 1px) -calc(var(--neu-distance) + 1px) calc(var(--neu-blur) + 2px) var(--neu-light),
        calc(var(--neu-distance) + 1px) calc(var(--neu-distance) + 1px) calc(var(--neu-blur) + 2px) var(--neu-dark);
}

    transform: translateY(0) scale(0.98);
    box-shadow:
        inset -2px -2px 4px var(--neu-light),
        inset 2px 2px 4px var(--neu-dark);
}

    display: flex;
    flex-wrap: wrap;
    gap: var(--neu-space-xs);
    flex: 1;
    align-items: center;
}

    color: var(--neu-text-secondary);
    font-style: italic;
}

    background: var(--neu-base);
    color: var(--neu-text-primary);
    padding: var(--neu-space-xs) var(--neu-space-sm);
    border-radius: var(--neu-radius-sm);
    font-size: var(--neu-font-size-sm);
    display: flex;
    align-items: center;
    gap: var(--neu-space-xs);
    box-shadow:
        -2px -2px 4px var(--neu-light),
        2px 2px 4px var(--neu-dark);
}

    background: none;
    border: none;
    color: var(--neu-text-secondary);
    cursor: pointer;
    padding: 0;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s ease;
}

    background: rgba(255, 0, 0, 0.1);
    color: var(--error-color);
}

    margin-left: var(--neu-space-sm);
    transition: transform 0.2s ease;
}

    transform: rotate(180deg);
}

/* Enhanced Dropdown Styling */
    padding: var(--neu-space-md);
    cursor: pointer;
    color: var(--neu-text-primary);
    background: transparent;
    transition: all 0.2s ease;
    border-radius: var(--neu-radius-sm);
    margin: 2px;
}

    background: rgba(255, 255, 255, 0.1);
    transform: translateX(4px);
}

    background: rgba(74, 158, 255, 0.2);
    color: var(--color-primary);
}

    display: flex;
    align-items: center;
    gap: var(--neu-space-sm);
}

    font-size: var(--neu-font-size-md);
    width: 20px;
    text-align: center;
}

/* Enhanced Toggle Styling */
.neu-toggle-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    margin-bottom: var(--neu-space-lg);
}

.neu-toggle {
    position: relative;
    display: flex;
    align-items: center;
    cursor: pointer;
    gap: var(--neu-space-md);
}

.neu-toggle input {
    display: none;
}

.neu-toggle-slider {
    position: relative;
    display: block;
    width: 60px;
    height: 32px;
    background: var(--neu-base);
    border-radius: 32px;
    transition: all 0.3s ease;
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
}

.neu-toggle-slider::after {
    content: '';
    position: absolute;
    top: 4px;
    left: 4px;
    width: 24px;
    height: 24px;
    background: var(--neu-base);
    border-radius: 50%;
    transition: all 0.3s ease;
    box-shadow:
        -4px -4px 8px var(--neu-light),
        4px 4px 8px var(--neu-dark);
}

.neu-toggle input:checked + .neu-toggle-slider {
    background: linear-gradient(135deg, var(--neu-base) 0%, rgba(74, 158, 255, 0.1) 100%);
}

.neu-toggle input:checked + .neu-toggle-slider::after {
    transform: translateX(28px);
    background: linear-gradient(145deg, var(--color-primary), #3182ce);
    box-shadow:
        -4px -4px 8px var(--neu-light),
        4px 4px 8px var(--neu-dark),
        0 0 16px rgba(74, 158, 255, 0.4);
}

.neu-toggle-label {
    color: var(--neu-text-primary);
    font-weight: 500;
    user-select: none;
}

/* Enhanced Slider Styling */
.neu-slider-wrapper {
    width: 100%;
    margin-bottom: var(--neu-space-lg);
}

.neu-slider-label {
    display: block;
    color: var(--neu-text-primary);
    font-weight: 500;
    margin-bottom: var(--neu-space-sm);
}

.neu-slider-container {
    display: flex;
    align-items: center;
    gap: var(--neu-space-md);
}

.neu-slider-track {
    position: relative;
    flex: 1;
    height: 12px;
    background: var(--neu-base);
    border-radius: 12px;
    cursor: pointer;
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light);
}

.neu-slider-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), rgba(74, 158, 255, 0.8));
    border-radius: 12px;
    transition: width 0.2s ease;
    opacity: 0.6;
}

.neu-slider-thumb {
    position: absolute;
    top: 50%;
    transform: translateY(-50%) translateX(-50%);
    width: 24px;
    height: 24px;
    background: var(--neu-base);
    border-radius: 50%;
    cursor: grab;
    z-index: 10;
    transition: all 0.2s ease;
    box-shadow:
        -4px -4px 8px var(--neu-light),
        4px 4px 8px var(--neu-dark);
}

.neu-slider-thumb:hover {
    transform: translateY(-50%) translateX(-50%) scale(1.1);
    box-shadow:
        -6px -6px 12px var(--neu-light),
        6px 6px 12px var(--neu-dark);
}

.neu-slider-thumb:active,
.neu-slider-thumb.dragging {
    cursor: grabbing;
    transform: translateY(-50%) translateX(-50%) scale(1.05);
    box-shadow:
        -2px -2px 4px var(--neu-light),
        2px 2px 4px var(--neu-dark);
}

.neu-slider-value {
    min-width: 40px;
    text-align: center;
    color: var(--neu-text-primary);
    font-weight: 600;
    font-size: var(--neu-font-size-sm);
}
