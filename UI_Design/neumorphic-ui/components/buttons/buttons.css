/* ===================================
   BUTTONS - PHYSICS-BASED NEUMORPHIC
   =================================== */

.neu-btn {
    padding: var(--neu-space-md) var(--neu-space-lg);
    border: none;
    border-radius: var(--neu-radius);
    font-family: var(--neu-font-family);
    font-size: var(--neu-font-size-base);
    font-weight: 500;
    color: var(--neu-text-primary);
    background: var(--neu-base);
    cursor: pointer;
    position: relative;
    will-change: transform, box-shadow;

    /* SPRING PHYSICS - Natural object behavior */
    transition:
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
        filter 0.2s ease;

    /* TRUE NEUMORPHIC SURFACE EMERGENCE */
    box-shadow:
        calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset 0 1px 0 var(--neu-surface-rim); /* Surface unity */
}

/* HOVER - Enhanced surface emergence */
.neu-btn:hover {
    transform: translateY(-1px) scale(1.01);
    filter: brightness(1.03);
    box-shadow:
        calc(-1.5 * var(--neu-distance)) calc(-1.5 * var(--neu-distance)) calc(1.5 * var(--neu-blur)) var(--neu-light),
        calc(1.5 * var(--neu-distance)) calc(1.5 * var(--neu-distance)) calc(1.5 * var(--neu-blur)) var(--neu-dark),
        inset 0 1px 0 var(--neu-surface-rim);
}

/* ACTIVE - Physical button press with spring compression */
.neu-btn:active,
.neu-btn--active {
    transform: translateY(1px) scale(0.98);
    transition:
        transform 0.1s cubic-bezier(0.4, 0, 1, 1),
        box-shadow 0.1s ease;

    /* PRESSED INSET EFFECT - Button compressed into surface */
    box-shadow:
        inset var(--neu-distance) var(--neu-distance) var(--neu-blur) var(--neu-dark),
        inset calc(-1 * var(--neu-distance)) calc(-1 * var(--neu-distance)) var(--neu-blur) var(--neu-light),
        0 0 8px rgba(74, 158, 255, 0.4); /* Energy feedback */
}

/* SPRING RELEASE - Return animation after press */
.neu-btn:not(:active) {
    transition:
        transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.4),
        box-shadow 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ===================================
   BUTTON VARIANTS
   =================================== */

/* Icon Button */
.neu-btn--icon {
    width: 48px;
    height: 48px;
    padding: 0;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--neu-font-size-lg);

    /* Enhanced physics for circular buttons */
    transition:
        transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.4),
        box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.neu-btn--icon:hover {
    transform: translateY(-3px) scale(1.05) rotate(2deg);
    filter: brightness(1.08);
}

.neu-btn--icon:active {
    transform: translateY(1px) scale(0.95) rotate(-1deg);
    transition: transform 0.08s cubic-bezier(0.4, 0, 1, 1);
}

/* Size Variants */
.neu-btn--large {
    padding: var(--neu-space-lg) var(--neu-space-xl);
    font-size: var(--neu-font-size-lg);
}

.neu-btn--small {
    padding: var(--neu-space-sm) var(--neu-space-md);
    font-size: var(--neu-font-size-sm);
}

/* Floating Action Button */
.neu-floating-btn {
    position: fixed;
    bottom: var(--neu-space-xl);
    right: var(--neu-space-xl);
    z-index: 100;
}

/* ===================================
   BUTTON STATES
   =================================== */

/* Primary Button */
.neu-btn--primary {
    background: linear-gradient(135deg, var(--neu-accent), var(--color-primary-variant));
    color: white;
}

.neu-btn--primary:hover {
    background: linear-gradient(135deg, var(--color-primary-variant), var(--neu-accent));
}

/* Success Button */
.neu-btn--success {
    background: linear-gradient(135deg, var(--neu-success), hsl(160, 80%, 45%));
    color: white;
}

/* Warning Button */
.neu-btn--warning {
    background: linear-gradient(135deg, var(--neu-warning), hsl(35, 95%, 55%));
    color: white;
}

/* Disabled Button */
.neu-btn:disabled,
.neu-btn--disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
    filter: grayscale(0.3);
}

/* ===================================
   BUTTON GROUPS
   =================================== */

.neu-btn-group {
    display: flex;
    gap: var(--neu-space-sm);
}

.neu-btn-group--vertical {
    flex-direction: column;
}

.neu-btn-group .neu-btn:first-child {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.neu-btn-group .neu-btn:last-child {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.neu-btn-group .neu-btn:not(:first-child):not(:last-child) {
    border-radius: 0;
}

/* ===================================
   LIGHT THEME BUTTON TEXT OVERRIDES
   =================================== */

/* Ensure default buttons have dark text in light theme */
[data-base-theme="light"] .neu-btn {
    color: var(--neu-text-primary) !important;
}

/* Colored buttons should maintain white text for contrast */
[data-base-theme="light"] .neu-btn--primary,
[data-base-theme="light"] .neu-btn--success,
[data-base-theme="light"] .neu-btn--warning {
    color: white !important;
}